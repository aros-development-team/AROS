Outstanding bugs:
BUG000021 BUG000026 BUG000037 BUG000058 BUG000063
BUG000068 BUG000070 BUG000074 BUG000075 BUG000076
BUG000077 BUG000078 BUG000079 BUG000081



BUG000001 fixed
digulla@wi-pc44.fh-konstanz.de
assign DEVS: devs -> ok
list devs: -> ok 
list devs:nil.handler -> "List: Object is of wrong type" 
The problem was that list treated files as directories.

BUG000002 fixed
digulla@wi-pc44.fh-konstanz.de
Workbench:> echo > test "Test"
Couldn't run command: Object not found
Workbench:> echo Test
Test
Workbench:>
The problem was the space between ">" and "test". ReadItem() would now
return "" for the filename and "test" as another parameter. Now I simply
skip the ">" or "<" before I allow ReadItem() to process the filename.

BUG000003 fixed
klaus21@t-online.de
exec.library/RemTail() crashes on an empty list. It should return NULL.
I wouldn't be too surprised if RemHead() crashes, too. ('Crash' means:
Segmentation fault.)
The problem was that GetTail() didn't return NULL for an empty list.

BUG000004 fixed
klaus21@t-online.de
The DosList structure found in AROS:include/dos/dosextens.h isn't
compatible to the original (Amiga) one. The biggest problem: dol_Name is a
STRPTR, but it should be a BSTR. (I wrote a program to show the currently
mounted devices, and it took me some time to find out why I got those silly
segfaults. BTW, the first DosList-entry has the name "(Null)", is this the
list-head or does it have any special meaning (i.e., is it a real device?)
dol_Name is now called dol_OldName and is still a BSTR. Additionally there is
now a field called dol_DevName, which is an ordinary STRPTR.

BUG000005 fixed
digulla@wi-pc44.fh-konstanz.de
newshell crashes because
Program received signal SIGSEGV, Segmentation fault.
0x8056535 in _Exec_DoIO (iORequest=0x80c1fe0, SysBase=0x806a290) at doio.c:67
67          __AROS_LVO_CALL1(void,5,iORequest->io_Device,iORequest,A1);
io_Device is NULL
#0  0x8056535 in _Exec_DoIO (iORequest=0x80c1fe0, SysBase=0x806a290)
    at doio.c:67
is called with ThisTask()->pr_CurrentDir.
#1  0x80615a5 in DoName (iofs=0x80c1fe0, name=0x8063b74 "", DOSBase=0x806baa0)
    at doname.c:90
#2  0x805818d in _Dos_Lock (name=0x8063b74 "", accessMode=-2,
    DOSBase=0x806baa0) at lock.c:103
#3  0x8057159 in _Dos_DupLock (lock=33697770, DOSBase=0x806baa0)
    at duplock.c:112

BUG000006 fixed
klaus21@t-online.de
"mount devs:ram.handler RAM:" does nothing. Afterwards, no RAM: or RAM::
is available and no error is printed.

BUG000007 partial fix (doesn't crash anymore)
digulla@wi-pc44.fh-konstanz.de
forkbomb cannot be called from the shell (one has to cut&paste one of
the lines of the script) and it runs only about 1000 times before it
GURUs with AN_MemCorrupt (81000005). Does not happen every time, though :-/

BUG000008 fixed
digulla@wi-pc44.fh-konstanz.de
AROS crashes after some time with a GURU Meditation 8100 000e
Deadend/Exec/Stack appears to extend out of range
Task: 0x80765e8 (Idle task)
Either the problem is that the stack grows or the Task structure for the
idle task gets corrupted. Might be connected to BUG000007.

BUG000009 fixed
digulla@aros.fh-konstanz.de
demowin doesn't refresh correctly anymore since Moria3D bug has been
fixed. The initial REFRESH is not sent to the window.

It refreshes now more or less correctly but it sometimes hangs until one
moves the mouse :-/

This will be fixed as soon as the X Graphics HIDD is available.
Maybe connected to BUG000010.

BUG000010 fixed
digulla@aros.fh-konstanz.de
Refresh doesn't work correctly or not at all if the window is resized.
This will be fixed as soon as the X Graphics HIDD is available.
Maybe connected to BUG000009.

BUG000011 fixed
digulla@aros.fh-konstanz.de
icon.library crashes in readicon. Maybe due to new library header.

BUG000012
digulla@aros.fh-konstanz.de
TestExampleLib creates corrupt memory. Maybe library is freed twice ?

BUG000013 fixed
srittau@aros.org
Moria3D segfaults with a fp exception while "Loading Fading..." on an
Intel (compatible) processors with internal FPU.
This is because you can't operate on floats anymore, maybe FPU has been
disabled.

BUG000014 (seems) fixed
klaus21@t-online.de
"dir :" does nothing.
The problem is that DoName() does not support a lock to the root directory of
a device. This is due to the fact that this functionality is missing in the
filehandler system.

BUG000015 fixed
digulla@fh-konstanz.de
After rtdemo, dir doesn't work anymore. I get "Object not found".
Changing dirs or using assigns causes segfaults. However, this only affects
the hd filesystem, you can change to RAM: where everything works okay.

Location of the bug:
The line file = Open("test.rtdemo",...) causes the error in the long run
because when removing this line verything seems to work alright.

BUG000016 fixed
digulla@fh-konstanz.de
The path of the inital shell is wrong. Instead of "Workbench:" it
reads "Workbench:.". If you CD into a subdir (say libs), then
it doesn't change.
The "cd" command didn't SetCurrentDirName().

BUG000017 fixed
bergers@aros.org
Local DOS-variables are not deallocated yet when the task is ending.

BUG000018 fixed (forget about that program :-))
bergers@aros.org
Devicetest cannot be linked correctly as there is no external Resident
structure found in a linkfile.

BUG000019 fixed
bergers@aros.org
test/matchtest: when unlocking dirlock at the end of the program the dirlock 
should still exist and not create a GURU-Meditation saying that this memory 
has already been freed.

BUG000020 fixed
bergers@aros.org
Demos/2View causes a Segmentation Fault before any output occurs.
The problem was that programs with mutiple object files must have $(STARTUP)
before $(OBJS) in mmakefile when linking

BUG000021
bergers@aros.org
Demos/demowin kills the X server (on Linux/m68k) after correctly drawing the
windowcontents.

BUG000022 fixed
bergers@aros.org
After Demos/listfonts the next entry to the shell will cause a Segmentation 
Fault. The output of listfonts looks like garbage at some lines.

"I think that I found the error in the listfonts program. It is occuring in
ScanFontInfo (af_scanfontinfo.c) in line 74 at the call to CallHookPkt() if
idx=1, because if you put
if (1 == idx)
  return TRUE;
before that line everything works out alright and you'll be able to enter
commands to the shell. But if you put these two lines after the call to
CallHookPkt() you'll get the segmentation fault. Unfortunately I don't know
which code is executed by the call to CallHookPkt()."

The problem was caused by lots of bugs in the diskfont library. (Fixed
by Georg Steger.)

BUG000023 (seems) fixed
bergers@aros.org
Demos/sift crashes with a GURU-Meditation saying that memory was
freed twice.

BUG000024 fixed
hkiel@aros.org 
The prompt of the shell does not show the complete path anymore, it just
shows the last subdirectory of the path (ie. "Workbench:Locale/Countries"
becomes "Countries"). This however is only on ffs_device, ram_device is okay.
Maybe related to BUG000016.

BUG000025 fixed
hkiel@aros.org
Seek() does not work properly: The position of the file only changes
to the new one if the current position is on EOF.
This was caused by not flushing the filehandle before doing the seek.

BUG000026
srittau@aros.org
When using 2View, it prints multiple error-messages:
|XError 10 (Major=88, Minor=0)
|BadAccess (attempt to access private resource denied)
After quitting graphical programs (eg gtdemo) don't work as expected.
(Linux 2.0.35, XFree86 3.3.1)

BUG000027 fixed
srittau@aros.org
Disable does not work correctly with some gadtools-gadgets. At least
the gadgets are not ghosted.

BUG000028 fixed
srittau@aros.org
The sliders next to listviews don't work.

BUG000029 fixed
bergers@aros.org
Henon started with "henon ?" should be recognized and the help-text 
should appear. -> The "?" as a signle character is not recognized!!
The problem was probably the buggy code in compiler/alib/startup.c.

BUG000030 fixed
srittau@aros.org
"Filenote", "Rename" and "Protect" segfault. The buggy code seems to
be somewhere in MatchFirst().

BUG000031 fixed
mreckt@wurzelausix.CS.Uni-SB.DE
"run" runs another program, but never returns.

BUG000032 fixed
srittau@aros.org
"rtdemo" segfaults.

BUG000033 fixed
mreckt@wurzelausix.CS.Uni-SB.DE
  Workbench:> RequestChoice test test yes no 
  Loading "RequestChoice"...
  Hunk type 0x4c457f not implemented
      Symbol at 0x401fecb8: entry
      Section at 0x401fecb8 ... 0x401ffadc: .text
      Section at 0x401ffae8 ... 0x401ffb86: .rodata
      Section at 0x401f5cf0 ... 0x401f5d03: .data
  LDCaller: Calling libOpen() of dos.library
  LDCaller: Calling libOpen() of intuition.library
  GURU Meditation 8100 0005
  Deadend/Exec/Corrupt memory list detected in FreeMem
  Task: 0x401e7ae8 (Boot Process)

BUG000034 fixed
srittau@aros.org
"wait" segfaults, if certain times are used. Probably a problem with
Delay() (or wait's communication with Delay()).

BUG000035 fixed
mreckt@wurzelausix.CS.Uni-SB.DE
"newshell" complains: "Device not mounted"

BUG000036 fixed
mreckt@wurzelausix.CS.Uni-SB.DE
  echo SYS:Demos/demowin > cmd
  shell cmd
starts demowin and even returns when pressing the Exit button, but the
window is not closed.

BUG000037
srittau@aros.org
Resource Tracking is disabled on native platforms. See file
compiler/arossupport/include/rt.h

BUG000038 fixed
bergers@aros.org
We seem to have a serious memory leak problem with just about all programs.
The problem was in the layers library when getting the rastport and in
clipblit the region wasn't freed.

BUG000039 fixed
nlorentz@online.no
Some events are lost, especially when there is rendering going
on.

BUG000040 fixed
nlorentz@online.no
String gadgets get coordinates relative to screen, but should
get relative to window.

BUG000041 fixed
nlorentz@online.no
Cause() does not work from inside keyboard.device, so input.device
never gets keyboard events.

BUG000042 fixed
nlorentz@online.no
There are race conditions between the intuition input handler
and CloseWindow(). When the closebutton is hit many times
fast, it segfaults. This has been "solved" using some flags
(EWFLG_DELAYCLOSE and EWFLG_CLOSEWINDOW), but it should be
redone using semaphores

Fixed: CloseWindow() now sends a message to intuition, that does
the actual closing of the window, thus no race conditions occur.
Downside is that it will slow down the inputhandler, but I think
it is not a big problem.

BUG000043 fixed
nlorentz@online.no
fish/fiveinline hangs when trying to drag the window.
It hangs inside the dragbar class when it tries to lock all layers.
That means somewhere (probably inside graphics_driver) there
is a LockLayer() call without a matching UnlockLayer().
I think the graphics_driver functions that need locking should
maybe be reworked so they have only one exitpont (ie. return),
thus reducing the risk for such bugs, and it would also make
them less difficult to understand.

BUG000044 fixed
bergers@aros.org
Only one screen seems to get the focus. If there are more screens than one
only the one that was opened latest gets correct input events.

This is taken care of by a callback function in the X11 graphics HIDD.

BUG000045 fixed
bergers@aros.org
Games/Mine resizes the window. The old windowborder doesn't get erased,
though.
The error was that the old window frame was not erased when the window
became larger. 


BUG000046 fixed
bergers@aros.org
When starting more than one "mxgads" by "run mxgads" and when letting the
windows stack on top of each other the new window looses its display.

The bug was a coordinate manupilation error
in driver_EraseRect().

BUG000047 fixed
bergers@aros.org
The window in "window" sometimes jumps when calling ChangeWindowBox() for
the first time. When it doesn't jump you cannot close the window with the
gadget. The gadget is assumed to be at the place where it would be if the
window had "jumped".

The problem was that ChangeWindowBox() was not deffered, so there
was a race condition between the app and input.device.


BUG000048 fixed
bergers@aros.org
When the window is enlarged via ChangeWindowBox() the enlarged area is not
cleared, it's black.
I assume that this error is the same one as BUG000046.
The error was that the old window frame was not erased when the window
became larger. 

BUG000049 fixed
bergers@aros.org
Running multiple "Demos/window"s at the same time leads to flickering on the
whole screen.

BUG000050 fixed
nlorentz@online.no
Running "window" several times after each other causes a severe
memory leak, not inside AROS itself, but in Linux
(Ie. "ps aux"). This is most probably a memoryleak
in x11gfx.hidd: Somewhere XGetImage() is called,
but XFreeImage() or similar is not called.

BUG000051 fixed
nlorentz@online.no
Events sometimes come "too late" from X.
Ie, for example when you start a program in arosshell, you have
to press enter several times before the prograp
starts, and then all the keypresses comes from X11 at once.
This is indirectly caused by input.device's timer
(If the timer disabled, it will work normally).
Probably the timer somehow effects unixio HIDD.

This problem went away when the idle task was changed to not busy wait
any more (now using sigsuspend()).

BUG000052 fixed
nlorentz@online.no
Buttons in mxgads are no longer highlighted when pressed.

BUG000053 fixed
bergers@aros.org
Games/Mine doesn't run any more. Crashes immediately.

BUG000054 fixed
bergers@aros.org
There seems to be a problem when colors are changed with the background when
a window is moved. Probably also the same problem that causes the lines to
be drawn into the window in fish/304_clines.

BUG000055 fixed
bergers@aros.org
newshell draws the window but then segfaults

BUG000056 fixed
hkiel@aros.org
'Run' fish/worldtime twice. When the two programs update their display,
the strings are only partially displayed in their correct colors (for
active/inactive window): The strings first part is in the correct color
but then they swap fg and bg color.

BUG000057 fixed
bergers@aros.org
Demos/filereq is a simple refreshed (is this the reason ??) window and has a 
few problems. The slider bar is incorrectly drawn, no reaction on pushed
buttons etc.

The button problem is fixed. The problem was that the listview
was too large thus overlapping the buttons. Since the listview
came before the buttons in the gadgetlist, the listview
was selected, not the buttons.


BUG000058
bergers@aros.org
The areafill algorithms are not very much in sync with the line drawing and
ellipse drawing algorithms.

BUG000059 fixed
bergers@aros.org
Once the window of fish/watchman is clicked on with the left mouse button
nothing can be done with other windows. (Locking error?)

The lock happens when another window is dragged and the eyes of watchman
need an update.

BUG000060 fixed
bergers@aros.org
Newshell creates two (?) simple refresh windows. When moving these windows
the result is garbage on the screen.

BUG000061 fixed
sduvan@aros.org
When having multiple windows and one of them includes an active string gadget,
activating another window will make the string gadget clone itself to the
activated window.

The problem was in relation to ActivateGadget(); changing active windows 
didn't set the active gadget to NULL:

BUG000062 fixed
hkiel@aros.org
When you are in a five-character-directory and produce an "Object not found"
error by calling a non-existant command, the second call to a non-existant
command will produce a segmentation fault if this "command" consists of
exactly three characters.

BUG000063
hkiel@aros.org
Contrib/DDemo7 does not work with current mathlib (produces trashy gfx, and
segfaults after some time). Must be a bug in mlib, because it used to work
with my own sin/cos routines (taylor series with arg folded to [0,Pi/2]),
before the Sun routines have been added.

[The current math libs return the values they calculate in non-FPU registers
whereas the program expects them in CPU registers. This worked fine on linux 
m68k but no on i386. -> On i386 and all systems that have FPU the FPU should
be used rather than the libs.]

BUG000064 fixed
bergers@aros.org
ExNext() does not work on the ram disk. This is the reason why 'Setenv' 
crashes.

BUG000065 seems to be fixed
bernie@aros.org
AROS dumps core when you attempt to cd into a plain file (try "cd aros" in
the Workbench: directory).

BUG000066 (is this a bug or a feature?)
digulla@hepe.com
(Reported by Dirk Weber) Run AROS, "cd C", "cd ..". The path reads now
"Workbench:C/..".

[This is because there is actually a 'file' named '..' when reading a
unix directory. This file would have to be intercepted in emul handler (as
it was before until someone took it out).]

BUG000067 fixed
digulla@hepe.com
(Reported by Dirk Weber) The fillpattern for the workbench screen
is distorted.

BUG000068
digulla@hepe.com
When you change headers.tmpl and someone else does an update, the
headers are not regenerated.

BUG000069 fixed
Stefan.Berger@att.net
c/sort seems to have a problem on SYS:. The Examine() command causes a
crash (not immediately but at some later point in execution). Sort works
on files in ram:, though.

BUG000070
hkiel@aros.org
Running contrib/Demos/Voxel/voxel without ./aros --memsize 16 gives
"voxel:Object is of wrong type" instead of "voxel:Could not open object: Out of
memory"

BUG000071 fixed
sduvan@aros.org
When putting a window over a console window that _partially covers the active
text line vertically_, activating the console window and starting to type
will shift the text written (pixel data) making the output garbled.
The problem was caused by bugs in the X11 gfx hidd.

BUG000072 out of memory problem.
sduvan@aros.org
Using Opaque and moving windows around will sooner or later produce an error
    allocbitmap.c, 149: bad pointer: nbm = $0
resulting in a Segmentation fault.
Not really a bug, because this happens when AROS runs out of memory which,
because of memory leaks, happened quite soon. It's probably layers.library
which gets into trouble when some allocation failed.

BUG000073 fixed
hkiel@aros.org
"List C:" says "Directory is empty" :-(
"List C" (from Workbench:) and "C:" plus "List" works...
The problem was caused by badly implemented MatchFirst/MatchNext/MatchEnd.

The problem was buggy dos.library/Match*** functions.

BUG000074
hkiel@aros.org
Internal implementations of stricmp() and strnicmp() in
tools/FlexCat/flexcat.c cause conflicts with existing functions on certain
OS's.  These need to be implemented in Linux, but not Amiga/GG and
Windows/CygWin.

BUG000075
lbischoff@aros.org
The defaults for FgPen, BgPen, DrawMode etc. that are set in InitRastPort() 
do not reach the graphics hidd. One has to call the related Setxxx function
first. But since these functions do only work properly if a bitmap is attached
to the rastport, one can not call them inside of InitRastPort.
There is a workaround for this problem in OpenWindow ATM, so that at least a
window's rastport is initialized correctly.     

BUG000076
sduvan@aros.org
Drawing the colorwheel through a mask as explained by Georg in the file
palettereq.c in workbench/libs/reqtools.

BUG000077
stefan.berger@att.net
'Aros' only links correctly if layers library has a global variable
GfxBase, otherwise GfxBase is undefined in graphics.library.
Also see 'nm -u libgraphics.so'

BUG000078
iain@ugh.net.au
When using LMB to do multiple selection of menus, it causes the menu to
disappear off the screen, rather than waiting for the RMB to be released.
It should allow for multiple selection of menu items.

BUG000079
iain@ugh.net.au
ELF object format loader will not load objects with a non-zero entry.

BUG000080 Fixed
iain@ugh.net.au
When you try and CD into a plain file, you get directory not found rather
than object is of wrong type. See also BUG000065.

BUG000081
stefan.berger@att.net
'Which' does almost never return the path to the program even if that
program is in the path list. Try "Which Which".

BUG000082
adam.chodorowski@chello.se
Keyboard repeat in X isn't re-enabled properly after AROS has exited (either 
cleanly or killed by force) or if it looses focus. This makes it a bit 
annoying to use other X programs when AROS is running.

BUG000083
adam.chodorowski@chello.se
In the CLI, entered commands containing only blank characters are not treated 
as empty and are incorrectly added to the command history.

BUG000084
adam.chodorowski@chello.se
In the CLI, the command history is circular (ie. it wraps around). The proper
behaviour would be to stop at the endpoints and present an empty prompt (this
is the way it works in AmigaOS).

BUG000085
adam.chodorowski@chello.se
In the CLI, ^L (formfeed -> clears the screen and positions the cursor at (0,0))
seems to end up in the command history, leading to "interesting" results when
you press arrow up/down.

!! Keep the list of outstanding bugs at the top up-to-date
