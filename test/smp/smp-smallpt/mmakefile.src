#   $Id: mmakefile.src 53238 2017-01-19 01:46:57Z NicJA $
#

include $(SRCDIR)/config/aros.cfg

FILES   := main renderer
CXXFILES := smallpt
EXEDIR  := $(AROS_TESTS)/smp

#MM- test-smp : test-smp-smp-smallpt
#MM- test-smp-quick : test-smp-smp-smallpt-quick

#USER_CFLAGS := $(PARANOIA_CFLAGS)

NOWARN_FLAGS  := $(NOWARN_VOLATILE_REGISTER_VAR)
SMALLPT_FLAGS := $(CFLAGS_NO_RED_ZONE) -Os -flto
USER_CXXFLAGS := $(NOWARN_FLAGS) $(SMALLPT_FLAGS)
USER_CFLAGS   := -std=gnu99 $(SMALLPT_CFLAGS)
USER_LDFLAGS  := -static-libstdc++

%build_prog mmake=test-smp-smp-smallpt \
    files=$(FILES) cxxfiles=$(CXXFILES) targetdir=$(EXEDIR) \
    uselibs="" progname=SMP-SmallPT

%common
