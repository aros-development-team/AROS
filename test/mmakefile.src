#   $Id$
#
#   Makefile for AROS Test

include $(TOP)/config/make.cfg


COMMONTESTFILES := \
    amigademo \
    availfonts \
    customscreen \
    displayalert \
    exceptiontest \
    exceptiontest2 \
    fileseek \
    fontinfo \
    frequencies \
    hostcb \
    iffparsewrite \
    ilbmtoc \
    localetest \
    modeid \
    monitorclass \
    newmatch \
    keymaptest \
    inquire \
    mathtest \
    cctest \
    helloworld \
    oopdemo \
    serialmousetest \
    serialtest \
    unixio \
    opendiskfont \
    partition \
    showvisregion \
    showvisshape \
    sortlayercr \
    systemtags \
    systemtagsslave \
    randtest \
    camdtree \
    mktime \
    rexxsyslibtest \
    printnativekeytable \
    testide \
    simplepng \
    rwverify \
    timeport \
    time \
    convertpixels \
    patchrgbconv \
    joystick \
    getcpuinfo \
    printf_f \
    versionlib \
    runtests \
    fsresource \
    taskstorage \
    mountlist \
    crashtest \
    openlocale \
    pthreadtest

SHTESTFILES=\
    pcilist \
    true

HOSTEDTESTFILES :=  \
    hostlib windebug

EXEDIR := $(AROS_TESTS)

USER_INCLUDES := -I$(SRCDIR)/workbench/libs
USER_CFLAGS += -DADATE="\"$(shell date '+%d.%m.%Y')\""

#MM- test : test-common test-sh test-clib test-kernel test-exec test-intuition \
#MM  test-layers test-zune workbench-libs-version test-$(AROS_TARGET_ARCH) test-miscfiles

#MM  test-common : includes workbench-libs-version linklibs
#MM  test-sh : includes linklibs

%build_progs mmake=test-common \
    files=$(COMMONTESTFILES) targetdir=$(EXEDIR) \
    uselibs="coolimagesstatic hiddstubs pthread"

%build_progs mmake=test-sh \
    files=$(SHTESTFILES) targetdir=$(EXEDIR) \
    usestartup=no

%build_progs mmake=test-hosted \
    files=$(HOSTEDTESTFILES) targetdir=$(EXEDIR)

%copy_files_q mmake=test-miscfiles files="testscript openlocale.prefs" dst=$(EXEDIR)

%common
