#   $Id$
#
#   Makefile for AROS Test

include $(TOP)/config/make.cfg


COMMONTESTFILES := \
    areatest2 \
    amiga2date \
    amigademo \
    availfonts \
    blttemplatealpha \
    CGXTest \
    customscreen \
    date2amiga \
    displayalert \
    dosvartest \
    exceptiontest \
    exceptiontest2 \
    fileseek \
    filetest \
    fontinfo \
    frequencies \
    fstest \
    getcybermapattr \
    gfx \
    gfxinfo \
    gfxtest \
    screentest \
    hostcb \
    iffparsewrite \
    ilbmtoc \
    localetest \
    matchtest \
    modeid \
    monitorclass \
    newmatch \
    keymaptest \
    inquire \
    mathtest \
    cctest \
    helloworld \
    oopdemo \
    scrollerwin \
    serialmousetest \
    serialtest \
    unixio \
    opendiskfont \
    openfromlock \
    partition \
    scantest \
    showvisregion \
    showvisshape \
    sortlayercr \
    strtodate \
    systemtags \
    systemtagsslave \
    ExNext \
    randtest \
    obtainpentest \
    readpixelarray \
    writepixelarray \
    writepixelarrayalpha \
    rawtest \
    camdtree \
    mktime \
    rexxsyslibtest \
    weightamatch \
    printnativekeytable \
    textbug \
    testide \
    simplepng \
    truecolorpens \
    consolemodes \
    examine \
    rwverify \
    setfilesize \
    timeport \
    minicat \
    time \
    waitforchar \
    seektest \
    callhooktest \
    scanvarstest \
    convertpixels \
    patchrgbconv \
    joystick \
    getcpuinfo \
    printf_f \
    pubscreen \
    versionlib \
    runtests \
    fsresource \
    altstack \
    taskstorage

HOSTEDTESTFILES :=  \
    hostlib

EXEDIR := $(AROS_TESTS)

USER_INCLUDES := -I$(SRCDIR)/workbench/libs

#MM test : test-clib test-kernel test-exec test-layers test-zune workbench-libs-version
#MM test : includes includes-copy workbench-datatypes-png-includes test-testscript

%build_progs mmake=test \
    files=$(COMMONTESTFILES) targetdir=$(EXEDIR) \
    uselibs="coolimagesstatic arossupport amiga arosc m hiddstubs oop"


%copy_files_q mmake=test-testscript files="testscript" dst=$(EXEDIR)


# Test for dynamic metatargets

_MM_ ::
	@$(ECHO) "#MM FOO : BAR1 BAR2"
	@$(ECHO) "#MM- FOOVIRT : BAR1 BAR2 \\"
	@$(ECHO) "#MM BAR3"


%common
