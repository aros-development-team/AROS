
This is the beginning of the CygWin port of AROS


I have committed my changes for the CygWin Port, I hope that someone
will pick up my work.  Basically you need some internal information of
CygWin to make this port work...


REQUIREMENTS:

You'll need a recent version of CygWin and XFree86 for CygWin if you
want to have easy graphics output.  "Easy" means that the X11 part
should work as is -- if you want DirectX or the like, you have to build
a graphics.hidd on your own.

I suppose you have installed CygWin and XFree86, just started the
CygWin Shell (probably BASH.EXE) and have a copy of the current AROS
sources in /usr/src/AROS.


COMPILING:

Change the current directory to /usr/src/AROS and run "autoconf" to
generate the "configure" script from "configure.in".

Then you can run this script with "sh configure".

For compiling up to the point where I stopped (now) you have to
do "make".

Now everything should work until config/unix/exec/kernel.c is to
be compiled.  Here compilation should stop with lots of errors and
warnings.


WHAT NEEDS TO BE DONE?

Apparently CygWin doesn't use ELF fileformat so this port won't be
compatible with all the other i386 ports, unless you do some sort of
"cross-compiling"!
[
From: Michal Schulz <michalsc@info.com.pl>
To: aros-dev@lists.hepe.com
Subject: Re: [AROS-Dev] How do I compile a program for AROS
Date: Tue, 8 Jan 2002 17:09:02 +0100 (MET)

On Tue, 8 Jan 2002, Adam Chodorowski wrote:

> > What utilities do I use (I'm on Windows and have Visual Studio 6), and 
> > what header files do I use? A pointer to a tutorial webpage would be cool.
> > Also, is there any way to run an AROS program under Windows (for test
> > development)? If not, I can use the Linux version (I have Linux installed).
> 
> Not really. It is *almost* possible to compile AROS/i386-native under Windows
> using the CygWin environment (which is basically an POSIX compatability
> layer),

IMHO this is not possible unless you use cross-compiling as i386-native
needs elf fileformat

--
Michal Schulz

_______________________________________________
AROS-Dev mailing list  -  AROS-Dev@lists.hepe.com
http://www.aros.org/mailman/listinfo/aros-dev
]

CygWin specific stuff is in config/cygwin:

- config/cygwin/exec/init.c (copy from linux) needs to be adjusted
  for CygWin

- config/cygwin/sigcore.h must be written

- fix config/unix/exec/kernel.c
[iaint@aros.org:
  "Is CygWin that closely tied in that it implements the full unix signal
semantics (struct siginfo would be nice). Now if only all of them would
agree on common names for such horrible things as the cpu context
structure :-)"]


Basically you can peek at the other ports (linux mostly, as its the
most mature port) to see what needs to be done and "translate" to how
CygWin handles it.


Have fun...


Henning Kiel <hkiel@aros.org>

December 2001

