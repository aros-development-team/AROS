# $Id$

include $(TOP)/config/make.cfg

FILES := funcs

#MM- workbench-libs-oss-unix : \
#MM      workbench-libs-oss-unix-module \
#MM      test-playoss
#MM- test-playoss : workbench-libs-oss-unix-module

#MM workbench-libs-oss-unix-module-includes : \
#MM     kernel-exec-includes \
#MM     kernel-oop-includes \
#MM     includes-copy
#MM workbench-libs-oss-unix-module : \
#MM     hidd-unixio-stubs \
#MM     linklibs-amiga \
#MM     linklibs-arossupport \
#MM     linklibs-clib \
#MM     linklibs-libinit \
#MM     linklibs-startup

# If an arch specific oss is made also test-playoss will be made
%build_prog mmake=test-playoss \
    progname=playossunix targetdir=$(AROS_TESTS) uselibs="ossshared"

USER_CFLAGS := -DHOST_OS_$(ARCH) -DAROS_ARCHITECTURE="\"$(AROS_TARGET_ARCH)-$(AROS_TARGET_CPU)\"" \
	      -isystem $(GENINCDIR) $(KERNEL_INCLUDES) -nostdinc

%build_module mmake=workbench-libs-oss-unix-module modname=oss \
    modtype=library files="$(FILES) oss_init" linklibname=ossshared \
    uselibs="amiga rom m"
