#
#   Copyright (C) 1995-2000 AROS - The Amiga Replacement OS
#   $Id$
#
#   Desc: Static makefile rule file for AROS
#
include $(TOP)/config/host.cfg

# This is the current AROS version.
VERSION	:= 1.12

# These are the paths to various directories.
# All files corresponding to a specific target go here.
TARGETDIR   :=	$(TOP)/bin/$(TARGET_ARCH)-$(TARGET_CPU)

# The HTML pages go to here
HTMLDIR	    :=	$(HOME)/www/www.aros.org/www

# This is the directory structure for an AROS system.
AROSDIR	    := $(TARGETDIR)/AROS

# These are the subdirectories under that path.
AROS_C		:= $(AROSDIR)/C
AROS_CLASSES	:= $(AROSDIR)/Classes
AROS_DEVS	:= $(AROSDIR)/Devs
AROS_GADGETS	:= $(AROS_CLASSES)/Gadgets
AROS_HIDDS	:= $(AROSDIR)/Hidds
AROS_LIBS	:= $(AROSDIR)/Libs
AROS_MODULES	:= $(AROSDIR)/os
AROS_S		:= $(AROSDIR)/S

INCDIR		:= $(AROSDIR)/include
TESTDIR		:= $(AROSDIR)/test
SCRIPTDIR	:= $(AROSDIR)/scripts
CONTRIBDIR	:= $(AROSDIR)/contrib

# The generated files all go under the GENDIR path
GENDIR		:= $(TARGETDIR)/gen

# The paths to the generated tools
TOOLDIR		:= $(TOP)/bin/$(HOST_ARCH)-$(HOST_CPU)/tools
TOOLLIB		:= $(TOOLDIR)/libtool.a
MMAKE		:= $(TOOLDIR)/mmake
ARCHTOOL	:= $(TOOLDIR)/archtool
CPAK		:= $(TOOLDIR)/cpak
GENMF		:= $(TOOLDIR)/genmf
FLEXCAT		:= $(TOOLDIR)/FlexCat
MODTOOL		:= $(TOOLDIR)/modtool
SRC2HTML	:= $(TOOLDIR)/src2html

# At the moment we have two copies of the includes...
# This is the AROS includes, minus clib/mlib.
GENINCDIR	:= $(GENDIR)/include

# Include paths - these are really tricky.
INCLUDES	= $(USER_INCLUDES) $(OS_INCLUDES)

# C and assembly flags are set depending upon the directory
# XXX Urk! This has to be fixed, there should be 4 parts to this if that.
CFLAGS		= $(USER_CFLAGS) $(SPECIAL_CFLAGS) $(OS_CFLAGS) $(INCLUDES) $(TARGET_CFLAGS)

# Basic make configuration. No need to edit anything else under here.

.SUFFIXES :
.SUFFIXES : .c .h .d .s .S

.PHONY : all clean setup subdirs

-include $(TOP)/make.defaults
-include $(TOP)/make.opts

# Was debugging enabled? Better set up the options.
ifeq ($(DEBUG),yes)
HOST_CFLAGS += $(DEBUG_CFLAGS)
HOST_LDFLAGS += $(DEBUG_LDFLAGS)
SYSTEM_CFLAGS += $(DEBUG_CFLAGS)
SYSTEM_AFLAGS += $(DEBUG_CFLAGS)
SYSTEM_LDFLAGS += $(DEBUG_LDFLAGS)
MECHO	:= $(ECHO)
else
MECHO	:= $(NOP)
endif

# Compatability with old variables

APPCFLAGS   =	$(USER_DEFINES) $(APP_CFLAGS) $(SPECIAL_CFLAGS) $(INCLUDES)
AFLAGS	    =	$(SYSTEM_AFLAGS) $(SPECIAL_AFLAGS) $(TARGET_AFLAGS)

OS_INCLUDES :=	-I$(AROSDIR)/include

BINDIR	    :=	$(AROSDIR)
EXEDIR	    :=	$(AROSDIR)/C
SDIR	    :=	$(AROSDIR)/S
LIBDIR	    :=	$(AROSDIR)/lib
DEVSDIR	    :=	$(AROSDIR)/Devs
HIDDSDIR    :=	$(AROSDIR)/Hidds
GADGETDIR   :=	$(AROSDIR)/Classes/Gadgets
SLIBDIR	    :=	$(AROSDIR)/Libs
OSMODDIR    :=	$(AROSDIR)/os
OSGENDIR    :=	$(GENDIR)/rom
