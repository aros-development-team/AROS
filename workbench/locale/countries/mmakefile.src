#   $Id$
include $(TOP)/config/make.cfg

COUNTRIES := australia 		 \
	     belgië 		 \
	     belgique 		 \
	     bosna_i_hercegovina \
	     brasil 		 \
	     bulgarija 		 \
	     canada 		 \
	     canada_français 	 \
	     cesko		 \
    	     danmark 		 \
	     deutschland 	 \
	     éire 		 \
	     españa 		 \
	     france 		 \
	     great_britain 	 \
	     hrvatska		 \
	     iran 		 \
	     ísland 		 \
	     italia 		 \
	     jugoslavija	 \
	     lëtzebuerg 	 \
	     lietuva 		 \
	     magyarország 	 \
	     nederland 		 \
	     nihon		 \
	     norge 		 \
	     österreich 	 \
	     polska 		 \
	     portugal 		 \
	     românia 		 \
	     rossija 		 \
	     schweiz 		 \
	     slovakia		 \
	     slovenija		 \
	     suisse 		 \
	     suomi 		 \
	     sverige 		 \
	     svizzera 		 \
	     türkiye		 \
	     ukrajina 		 \
	     united_kingdom 	 \
	     united_states 	 \
	     vaticano

COUNTRYDIR   := $(AROS_LOCALE)/Countries
MAKECOUNTRY  := $(OBJDIR)/makecountry
OBJDIR 	     := $(GENDIR)/$(CURDIR)
COUNTIFF     := $(foreach f,$(COUNTRIES),$(COUNTRYDIR)/$(f).country)
OBJS         := $(foreach f,makecountry $(COUNTRIES),$(OBJDIR)/$(f).o)
DEPS         := $(foreach f,makecountry $(COUNTRIES),$(OBJDIR)/$(f).d)
USER_CFLAGS  := -D_EURO

#MM- workbench-locale : workbench-locale-countries
#MM workbench-locale-countries : includes

workbench-locale-countries: $(MAKECOUNTRY) $(COUNTIFF)

#MM
workbench-locale-countries-quick : workbench-locale-countries

$(COUNTIFF) : | $(MAKECOUNTRY) $(COUNTRYDIR)
$(COUNTRYDIR)/%.country : $(OBJDIR)/%.o
	@$(ECHO) "Making $(notdir $@)..."
	@$(MAKECOUNTRY) $(COUNTRYDIR)/ $*

$(MAKECOUNTRY) : $(OBJS)
	@$(ECHO) "Making $(@F)..."
	@$(HOST_CC) $(HOST_LDFLAGS) $^ -o $@

$(OBJS) $(DEPS) : | $(OBJDIR)
%rule_compile_multi basenames="makecountry $(COUNTRIES)" targetdir=$(OBJDIR)

%rule_makedirs dirs="$(OBJDIR) $(COUNTRYDIR)"


#MM
clean ::
	-$(RM) $(OBJDIR) *.err

%include_deps $(DEPS)
