/*
    Copyright © 1995-2001, The AROS Development Team. All rights reserved.
    $Id$

    Desc:
    Lang: english
*/
#include "icon_intern.h"

#include <aros/debug.h>

/* The icon images were created by Mason who kindly gave the permission to
 * include them in AROS :) */

const static unsigned char disk_data_1[] =
{
    0x00,0x00,0x00,0x00,0x77,0x00,0x00,0xbc,0x77,0x00,0x3c,0xbe,0x77,0x00,0x3c,0xbf,
    0x77,0x00,0x3c,0xbf,0x77,0x00,0x3c,0xbf,0x77,0x00,0x3c,0xbf,0x77,0x00,0x3c,0xbf,
    0x77,0x00,0x3c,0xbf,0x77,0x00,0x3c,0xbf,0x77,0x00,0x00,0xbf,0x77,0x00,0x00,0xbf,
    0x77,0x7f,0xff,0xbf,0x70,0x00,0x00,0x7f,0x7f,0xff,0xff,0xff,0x7f,0xff,0xff,0xff,
    0x7f,0xff,0xff,0xff,0x70,0x00,0x00,0x0f,0x70,0x00,0x00,0x0f,0x70,0x00,0x00,0x0f,
    0x70,0x00,0x00,0x0f,0x70,0x00,0x00,0x0f,0x70,0x00,0x00,0x0f,0x70,0x00,0x00,0x0f,
    0x70,0x00,0x00,0x0f,0x70,0x00,0x00,0x0f,0x70,0x00,0x00,0x0f,0x70,0x00,0x00,0x0f,
    0x70,0x00,0x00,0x0f,0x70,0x00,0x00,0x0f,0x70,0x00,0x00,0x0f,0x7f,0xff,0xff,0xfe,
    0xff,0xff,0xff,0xf0,0xe7,0x80,0x00,0x38,0xe7,0x80,0x00,0x3c,0xe7,0x80,0x1e,0x3d,
    0xe7,0x80,0x1e,0x3d,0xe7,0x80,0x1e,0x3d,0xe7,0x80,0x1e,0x3d,0xe7,0x80,0x1e,0x3d,
    0xe7,0x80,0x1e,0x3d,0xe7,0x80,0x1e,0x3d,0xe7,0x80,0x1e,0x3d,0xe7,0x80,0x00,0x3d,
    0xe7,0x00,0x00,0x3d,0xff,0x80,0x00,0x7d,0xff,0xff,0xff,0xfd,0xff,0xff,0xff,0xfd,
    0xf0,0x00,0x00,0x1d,0xe0,0x00,0x00,0x0d,0xe7,0xff,0xff,0xed,0xe7,0xff,0xff,0xed,
    0xe7,0xff,0xff,0xed,0xe7,0xff,0xff,0xed,0xe7,0xff,0xff,0xed,0xe7,0xff,0xff,0xed,
    0xe7,0xff,0xff,0xed,0xe7,0xff,0xff,0xed,0xe7,0xff,0xff,0xed,0xe7,0xff,0xff,0xed,
    0xe7,0xff,0xff,0xed,0xe7,0xff,0xff,0xed,0xe7,0xff,0xff,0xed,0x80,0x00,0x00,0x00
};

const static unsigned char disk_data_2[] =
{
    0x00,0x00,0x00,0x00,0x70,0x00,0x07,0xbc,0x70,0x01,0xe7,0xbe,0x70,0x01,0xe7,0xbf,
    0x70,0x01,0xe7,0xbf,0x70,0x01,0xe7,0xbf,0x70,0x01,0xe7,0xbf,0x70,0x01,0xe7,0xbf,
    0x70,0x01,0xe7,0xbf,0x70,0x01,0xe7,0xbf,0x70,0x00,0x07,0xbf,0x70,0x00,0x07,0xbf,
    0x73,0xff,0xff,0xbf,0x70,0x00,0x00,0x7f,0x7f,0xff,0xff,0xff,0x7f,0xff,0xff,0xff,
    0x7f,0xff,0xff,0xff,0x70,0x00,0x00,0x0f,0x70,0x00,0x00,0x0f,0x70,0x00,0x00,0x0f,
    0x70,0x00,0x00,0x0f,0x70,0x00,0x00,0x0f,0x70,0x00,0x00,0x0f,0x70,0x00,0x00,0x0f,
    0x70,0x00,0x00,0x0f,0x70,0x00,0x00,0x0f,0x70,0x00,0x00,0x0f,0x70,0x00,0x00,0x0f,
    0x70,0x00,0x00,0x0f,0x70,0x00,0x00,0x0f,0x70,0x00,0x00,0x0f,0x7f,0xff,0xff,0xfe,
    0xff,0xff,0xff,0xf0,0xe4,0x00,0x03,0xf8,0xe4,0x00,0x03,0xfc,0xe4,0x00,0x13,0xfd,
    0xe4,0x00,0x13,0xfd,0xe4,0x00,0x13,0xfd,0xe4,0x00,0x13,0xfd,0xe4,0x00,0x13,0xfd,
    0xe4,0x00,0x13,0xfd,0xe4,0x00,0x13,0xfd,0xe4,0x00,0xf3,0xfd,0xe4,0x00,0x03,0xfd,
    0xe0,0x00,0x03,0xfd,0xfe,0x00,0x03,0xfd,0xff,0xff,0xff,0xfd,0xff,0xff,0xff,0xfd,
    0xf0,0x00,0x00,0x1d,0xe0,0x00,0x00,0x0d,0xe7,0xff,0xff,0xed,0xe7,0xff,0xff,0xed,
    0xe7,0xff,0xff,0xed,0xe7,0xff,0xff,0xed,0xe7,0xff,0xff,0xed,0xe7,0xff,0xff,0xed,
    0xe7,0xff,0xff,0xed,0xe7,0xff,0xff,0xed,0xe7,0xff,0xff,0xed,0xe7,0xff,0xff,0xed,
    0xe7,0xff,0xff,0xed,0xe7,0xff,0xff,0xed,0xe7,0xff,0xff,0xed,0x80,0x00,0x00,0x00
};

/*****************************************************************************

    NAME */
#include <proto/icon.h>

	AROS_LH1(struct DiskObject *, GetDefDiskObject,

/*  SYNOPSIS */
	AROS_LHA(long, type, D0),

/*  LOCATION */
	struct Library *, IconBase, 20, Icon)

/*  FUNCTION
	Gets the default icon for the supplied type of icon.

    INPUTS
	type  -  type of icon to get default diskobject for.


    RESULT
	DiskObject structure or NULL if an error occured. The error may
	be obtained by IoErr().

    NOTES

    EXAMPLE

    BUGS

    SEE ALSO
	PutDefDiskObject(), GetDiskObjectNew()

    INTERNALS

    HISTORY

*****************************************************************************/
{
    AROS_LIBFUNC_INIT
    AROS_LIBBASE_EXT_DECL(struct Library *,IconBase)
    UBYTE deficonname[MAX_DEFICON_FILEPATH]; /* Will contain path and name
				    of a defaulticon "ENVARC:Sys/..." */
    struct DiskObject *dob;

    GetDefIconName (type, deficonname);

    dob = GetDiskObject (deficonname);
    if (!dob)
    {
	struct DiskObject idob;
	struct DrawerData dd;
	struct Image img1;
	struct Image img2;

	memset(&idob,0,sizeof(struct DiskObject));
	memset(&dd,0,sizeof(struct DrawerData));
	memset(&img1,0,sizeof(struct Image));
	memset(&img2,0,sizeof(struct Image));

	idob.do_Magic = WB_DISKMAGIC;
	idob.do_Version = 0x101;
	idob.do_CurrentX = NO_ICON_POSITION;
	idob.do_CurrentY = NO_ICON_POSITION;
	idob.do_Gadget.GadgetRender = &img1;
	idob.do_Gadget.SelectRender = &img2;
	idob.do_Gadget.Flags |= GFLG_GADGIMAGE;
	/* Probably some other stuff is is missing here */

	switch(type)
	{
	    case    WBDISK:
		    dob = &idob;
		    dob->do_DrawerData = &dd;
		    img1.Width = 32;
		    img1.Height = 32;
		    img1.PlanePick = 3;
		    img1.ImageData = disk_data_1;
		    img2.Width = 32;
		    img2.Height = 32;
		    img2.ImageData = disk_data_2;
		    img2.PlanePick = 3;
		    idob.do_Gadget.Width = 32;
		    idob.do_Gadget.Height = 32;
		    break;
#warning should be a UNKNOW icon
/*	    default: dob = NULL;*/
	}

	if (dob)
	    dob = DupDiskObjectA(dob,NULL);
    }
    return dob;
    AROS_LIBFUNC_EXIT
} /* GetDefDiskObject */
