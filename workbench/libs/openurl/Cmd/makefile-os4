# OpenURL makefile
CC 	= ppc-amigaos-gcc
CDEFS   = -DUSE_INLINE_STDARG -D__USE_INLINE__
CFLAGS  = $(CDEFS) $(CWARN) -O2 -fomit-frame-pointer -mcpu=750 -mstring -mmultiple -fstrict-aliasing -I../Include
LDFLAGS = 
CWARN   = -Wall\
	  -Wno-missing-braces\
	  -Wno-parentheses\
          -Wno-switch\
          -Wstrict-prototypes\
	  -Werror-implicit-function-declaration\
          -Wpointer-arith

OBJS    = OpenURL.o SmartReadArgs.o

OpenURL: $(OBJS)
		  $(CC) $(LDFLAGS) -o $@ $(OBJS) -lauto
		  strip --strip-unneeded --remove-section=.comment $@

OpenURL.o:       OpenURL.c SmartReadArgs.h OpenURL_rev.h
SmartReadArgs.o: SmartReadArgs.c debug.h SmartReadArgs.h
