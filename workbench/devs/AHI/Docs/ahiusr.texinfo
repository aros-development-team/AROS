\input tmp-iso.sty
\input texinfo             @c -*-texinfo-*-
@c %***start of header
@setfilename ahiusr.info
@settitle @sc{Ahi} User's Guide
@setchapternewpage odd
@iftex
@afourpaper
@end iftex
@c %***end of header

@c *** Variables ***

@c Set ahiver and docver to current release version
@include ahiusr.ver


@c Part 2: Summary Description and Copyright
@c ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯

@ifinfo
This file documents AHI release @value{ahiver}, a hardware independent
audio subsystem for Amiga. The version number of this document is
@value{docver}.

Copyright @copyright{} 1994-2005 Martin Blom.

Permission is granted to make and distribute verbatim copies of this manual
provided the copyright notice and this permission notice are preserved on
all copies.
     
@ignore
Permission is granted to process this file through TeX and print the
results, provided the printed document carries a copying permission notice
identical to this one except for the removal of this paragraph (this
paragraph not being relevant to the printed manual).

@end ignore
Permission is granted to copy and distribute modified versions of this
manual under the conditions for verbatim copying, provided also that the
sections entitled ``Distribution'', ``GPL'' and ``LGPL'' are included
exactly as in the original, and provided that the entire resulting
derived work is distributed under the terms of a permission notice
identical to this one.

Permission is granted to copy and distribute translations of this manual
into another language, under the above conditions for modified versions,
except that this permission notice may be stated in a translation approved
by the Free Software Foundation.

@sc{This publication is provided by the author ``as is'' and any express or
implied warranties, including, but not limited to, the implied warranties
of merchantability and fitness for a particular purpose are disclaimed.  In
no event shall the author be liable for any direct, indirect, incidental,
special, exemplary, or consequential damages (including, but not limited
to, procurement of substitute goods or services; loss of use, data, or
profits; or business interruption) however caused and on any theory of
liability, whether in contract, strict liability, or tort (including
negligence or otherwise) arising in any way out of the use of this
publication, even if advised of the possibility of such damage.}

@example

$Id$
$Log: ahiusr.texinfo,v $
Revision 5.9.2.8  2005/09/22 20:09:18  martin
Docs/ahiusr.texinfo: Added Gunther Nikl and Davy Wentzler to
"Contributors". Removed all contributor e-mail addresses.

Revision 5.9.2.7  2005/06/19 21:43:57  martin
AHItoccataPlayBufferSize and AHItoccataRecordBufferSize.

Revision 5.9.2.6  2005/02/02 21:49:52  martin
* Updated all copyright years to 2005.

* Bumped all version numbers to 6.0.

* Docs/ahidev.texinfo (The Author): Updated the authors address (5
years later).

Revision 5.9.2.5  2005/01/08 22:38:09  martin
Added note about the volume scaling.
Removed list of names in Honourable mention.

Revision 5.9.2.4  2004/11/02 13:18:53  martin
Updated copyright year and removed almost all CVS/RCS tags from the
source code.

Revision 5.9.2.3  2004/10/23 12:19:39  martin
Fixed some typos.

Revision 5.9.2.2  2004/09/08 13:56:37  martin
Added description of the default anti-click time

Revision 5.9.2.1  2004/06/08 21:16:16  martin
Added 7.1 multichannel support.

Revision 5.9  2004/06/01 19:00:01  martin
Makeinfo fix.

Revision 5.8  2004/02/19 20:45:03  martin
Added note about AddAudioModes and sound card/AC97 initializing.

Revision 5.7  2003/07/20 17:04:14  martin
Replaced Nicolas Sallin with Genesi and bbrv.

Revision 5.6  2003/02/09 15:04:48  martin
Added a link to CyberSound.lha for 14 bit Paula calibration.
Clarified the relationshit between units and sound cards.

Revision 5.5  2003/02/08 14:14:18  martin
Wrote about the "Paula:DMA 8 bit stereo" mode.

Revision 5.4  2003/01/23 23:23:23  martin
Updated the list of supported sound cards.

Revision 5.3  2003/01/23 23:15:45  martin
Updated the Acknowledgments chapter. Added Donors and Honourable
mention sections. Updated my address.

Revision 5.2  2003/01/19 16:16:39  martin
Added not about dynamic volume adjusting in V6.

Revision 5.1  2003/01/19 12:22:41  martin
Another year, another copyright update.
 ... which seems to have caused the translation files to change slightly.

Revision 5.0  2000/11/28 00:16:20  lcs
Bumped CVS revision to 5.0.

Revision 4.23  1999/09/20 21:08:52  lcs
Minor rearrengment of the Acknowledgements chapter.
Added Frank Wille to Contributors.

Revision 4.22  1999/09/19 14:05:28  lcs
Changed the license text.
Some polishing.

Revision 4.21  1999/03/28 22:32:49  lcs
AHI is now GPL/LGPL software.
Make target bindist work correctly when using a separate build directory.
Small first steps towards a WarpOS PPC version.

Revision 4.20  1999/01/10 19:27:48  lcs
The move to GNU make is done.

Revision 4.19  1999/01/10 16:07:58  lcs
Moved to GNU make (still moving...)

Revision 4.18  1998/12/06 11:51:25  lcs
Removed the stuff about paula not being exactly like the filesave driver
(it is, now).

Revision 4.17  1998/10/25 15:38:30  lcs
Added note about that paula.audio cannot behave exactly like filesave.audio.

Revision 4.16  1998/10/25 13:31:50  lcs
Added info about the paula.audio AHIpaulaFakeMixFreq variable.

Revision 4.15  1998/03/11 09:28:51  lcs
Added info about how to make the Amiga video 31 kHz.

Revision 4.14  1998/01/18 19:50:42  lcs
Updated the acknowledges. Probably more.

Revision 4.13  1997/12/17 19:53:17  lcs
Added the translators of of Hrvatski and Magyar to the hall of fame...

Revision 4.12  1997/11/02 02:01:48  lcs
Added Concierto (again!).

Revision 4.11  1997/10/21 01:33:40  lcs
The version number is now the AHI release version, not the documents version.

Revision 4.10  1997/09/30 13:11:09  lcs
Added reasons why "Fast" or "Hifi" modes should be used.

Revision 4.9  1997/09/28 04:31:56  lcs
Added notes about Maestor Pro and Melody MPEG. Added Thorsten Hansen
to the contributors section. And some other minor things.

Revision 4.8  1997/09/18 00:51:00  lcs
Added Maestro Pro stuff.

Revision 4.7  1997/08/10 15:38:57  lcs
Minor changes. added @@ahi macro!

Revision 4.6  1997/08/03 22:48:26  lcs
Added Concierto to list of supported sound cards.
Added Christian Buchner to the Acknowledgments section.
Changed Teemu Suikki's email address.

Revision 4.5  1997/07/27 19:04:10  lcs
Added description of the AHIpaulaSwapChannels env. variable.

Revision 4.4  1997/07/15 00:50:40  lcs
This is the second bugfix release of AHI 4.

Revision 4.3  1997/05/04 15:52:58  lcs
Initial revision.

@end example

@end ifinfo

@c Part 3: Titlepage and Copyright
@c ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯

@titlepage
@title AHI
@subtitle Hardware independent audio for Amiga
@subtitle AHI User's Guide for AHI release @value{ahiver}
@subtitle Document version @value{docver}
@author Martin 'Leviticus' Blom

@page

@vskip 0pt plus 1filll

Copyright @copyright{} 1994-2005 Martin Blom. 

Permission is granted to make and distribute verbatim copies of this manual
provided the copyright notice and this permission notice are preserved on
all copies.

Permission is granted to copy and distribute modified versions of this
manual under the conditions for verbatim copying, provided also that the
sections entitled ``Distribution'', ``GPL'' and ``LGPL'' are included
exactly as in the original, and provided that the entire resulting
derived work is distributed under the terms of a permission notice
identical to this one.

Permission is granted to copy and distribute translations of this manual
into another language, under the above conditions for modified versions,
except that this permission notice may be stated in a translation approved
by the Free Software Foundation.

@sc{This publication is provided by the author ``as is'' and any express or
implied warranties, including, but not limited to, the implied warranties
of merchantability and fitness for a particular purpose are disclaimed.  In
no event shall the author be liable for any direct, indirect, incidental,
special, exemplary, or consequential damages (including, but not limited
to, procurement of substitute goods or services; loss of use, data, or
profits; or business interruption) however caused and on any theory of
liability, whether in contract, strict liability, or tort (including
negligence or otherwise) arising in any way out of the use of this
publication, even if advised of the possibility of such damage.}

@end titlepage


@c Part 4: `Top' Node and Master Menu
@c ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯

@node    Top, Overview, (dir), (dir)

@c @ifinfo

@majorheading @sc{Ahi} User's Guide

For @sc{Ahi} release @value{ahiver}. Document version @value{docver}.

Copyright @copyright{} 1994-2005 Martin Blom

The latest release of @sc{Ahi} can always be found at
@url{http://www.lysator.liu.se/~lcs/ahi.html}. 

@menu
* Overview::                    Brief introduction
* Distribution::                What you are allowed to do and not

* System description::          The components of @sc{Ahi}

* The Author::                  Who designed it?
* Acknowledgments::             Thanks, guys!

* GPL::                         The main license
* LGPL::                        The @code{ahi.device} license

* Concept Index::               Concept Index

@end menu

@c @end ifinfo

@c Part 5:  The Body of the Document
@c ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯


@c ***********************************************************************
@c **** Overview *********************************************************
@c ***********************************************************************

@node Overview, Distribution, Top, Top
@comment  node-name,  next,  previous,  up
@chapter Overview

@cindex Overview
@cindex AHI, overview
@cindex Paula, custom chip

The @dfn{Amiga} has always had excellent sound capabilities.  In 1986, they
were awesome.  Today, well@enddots{} Perhaps not awesome, but still very
good.  The OS interface, @code{audio.device} has however never been as good
as it could have been.  It is tied hard to the underlying hardware, and
doesn't work very well for music.  This has led to a situation where most
audio programs only use @code{audio.device} to allocate the audio resource,
and then poke around in the hardware registers---making it next to
impossible to replace the @dfn{Paula} chip @footnote{Paula is one of the
custom chips, and she is responsible for the sound (and more).
Unfortunately, this chip has not been updated since the very first Amiga
was released.}.

There have been attempts to write an @code{audio.device} clone that uses a
sound card instead of Paula, but so far nobody has succeeded.  It is
definitely possible, but the question is if it is worth the trouble---too
many of the programs bang the hardware.

Entering @sc{Ahi} @footnote{The name @sc{Ahi} was chosen because the
functions in the system had to have a prefix, and the author couldn't come
up with anything better than @dfn{Audio Hardware Interface}, something that
he has regretted ever since.  The suggested pronunciation is ``atchii'', as
in ``God bless!''.}.  @sc{Ahi} is a new audio subsystem, designed to be
flexible, hardware independent, expandable and future safe.  It is designed
with real-time applications in mind.  It is designed to play @dfn{modules}
@footnote{Originally designed in 1986 by Karsten Obarski, modules have
become a de facto standard for game and demo music.  The original format
has been improved many times, and many new music formats have---more or
less---been derived from it, including the popular @dfn{S3M} and @dfn{XM}
formats.} and sound effects as efficient as possible, taking advantage of
modern DSP-based sound cards.

Yet @sc{Ahi} allows applications that don't need full control over the
audio hardware to share the resource, so that many different programs can
play and record sound at the same time, without conflicts.

As a user you will hopefully not see much of @sc{Ahi}, other than the audio
mode requesters.  They works almost exactly like screen mode requesters.

@sc{Ahi} was never supposed to be @emph{the} standard for hardware
independent audio.  It was meant as a temporary solution until @dfn{Amiga
Technologies} delivered an official standard.  However, the situation looks
worse and worse for every day that passes by, and this may be all you will
ever get.


@c ***********************************************************************
@c **** Distribution *****************************************************
@c ***********************************************************************

@node  Distribution, System description, Overview, Top
@comment  node-name,  next,  previous,  up
@chapter Distribution

@cindex Distribution
@cindex Disclaimer
@cindex License
@cindex Legal nonsense
@cindex Software license
@cindex Copyright

Copyright @copyright{} 1994-2005 Martin Blom

@sc{Ahi} is available under a dual license. The device itself is under
the ``GNU Library General Public License'' (@pxref{LGPL}), while the
utility programs and the @code{AUDIO:} device is covered by the ``GNU
General Public License'' (@pxref{GPL}).

If you use this software in a commercial or shareware product, please
consider giving the author (@pxref{The Author})---and preferably each one
of the contributors too (see @cite{@sc{Ahi} User's Guide})---an original or
registered copy or sample of your work.  Should you want to distribute the
@sc{Ahi} software with your own product, there is really nothing to
consider, right?

@c ***********************************************************************
@c **** System description ***********************************************
@c ***********************************************************************

@node System description, The Author, Distribution, Top
@comment  node-name,  next,  previous,  up
@chapter System description

@cindex System description

@menu
* AddAudioModes::               Database maintenance and more
* AHI::                         Preferences program
* AHI-Handler::                 DOS-device

* System Files::                The files in @file{DEVS:}
@end menu


@c ***********************************************************************
@c **** AddAudioModes ****************************************************
@c ***********************************************************************

@node AddAudioModes, AHI, System description, System description
@comment  node-name,  next,  previous,  up
@section AddAudioModes

@cindex AddAudioModes

@table @asis

@item Format
[FILES <file|pattern>] [QUIET] [REFRESH] [REMOVE] [DBLSCAN]

@item Template
FILES/M,QUIET/S,REFRESH/S,REMOVE/S,DBLSCAN/S

@item Purpose
To build and remove a list of audio modes that @sc{Ahi} can understand.

@item Path
C:ADDAUDIOMODES

@item Specification
@code{AddAudioModes} is used to build and remove a list of audio modes that
@sc{Ahi} can understand.  The definitions of the audio modes are stored in
@file{DEVS:Audiomodes} (@pxref{The Mode Descriptors}).  Normally you don't
have to run this program, since @code{ahi.device} automatically reads all
mode descriptors when it is used for the first time.  It can, however, be
useful in installation scripts.

In addition to rebuilding the audio mode database, it has the side
effect that the audio drivers are loaded into memory. This causes the
audio hardware to be initialized and, perhaps, AC97 mixers to be set
up to the default, which is good if, for example, your CD is connected
to your soundcard.

The @samp{FILES} option specifies with descriptor(s) to be added to the
current mode list.

The @samp{QUIET} option, if specified, will suppress error and output
messages.

The @samp{REFRESH} option, if specified, will scan @file{DEVS:Audiomodes}
and add all descriptors found there to the current mode list.

The @samp{REMOVE} option, if specified, will flush the current audio mode
list from memory.

The @samp{DBLSCAN} option does not have anything to do with the audio mode
list.  If specified, it will open and then immediately close a native,
double-scan screen.  On some systems using a graphic card, this will enable
>28 kHz sample frequencies with the native audio.  You need an appropriate
monitor driver in @file{DEVS:Monitors} to make it work.

@end table

@c ***********************************************************************
@c **** AHI **************************************************************
@c ***********************************************************************

@node AHI, AHI-Handler, AddAudioModes, System description
@comment  node-name,  next,  previous,  up
@section AHI

@cindex AHI, preferences program
@cindex Preferences
@cindex Settings

@table @asis

@item Format
[FROM <filename>] [EDIT] [USE] [SAVE] [PUBSCREEN <public screen name>

@item Template
FROM,EDIT/S,USE/S,SAVE/S,PUBSCREEN/K

@item Purpose
To specify default audio options

@item Path
SYS:Prefs/AHI

@item Specification
@code{AHI} without any arguments or with the @samp{EDIT} argument opens the
@sc{Ahi} preferences editor.  The @samp{FROM} argument lets you specify a
file to open.  This must be a file that was previously saved with the
@samp{Save As@dots{}} menu item of the @sc{Ahi} preferences editor.  For
example, if you have saved a special configuration of the @sc{Ahi}
preferences editor to a file in the @file{Presets} drawer, you can use the
@samp{FROM} argument to open that file.  If the @samp{USE} switch is also
given, the editor will not be opened, but the settings in the @samp{FROM}
file will be used.  If the @samp{SAVE} switch is given, the editor will not
open, but the settings in the @samp{FROM} file will be saved.  The
@samp{PUBSCREEN} option allows you to specify a public screen on which the
program will open its window.

Example:

@example
AHI Prefs/Presets/AHI.Delfina USE
@end example

loads and uses the specifications saved in the @file{AHI.Delfina} file.  If
the system is rebooted, the last saved specifications will be loaded.

@end table

Note that the preferences program requires either @code{bgui.library}
version 41 @footnote{@dfn{BGUI} is Copyright © 1996-1997 Ian J.  Einman} or
@dfn{MUI} version 3.8 @footnote{@dfn{MUI} is Copyright © 1992-1997 Stefan
Stuntz}

@menu
* Menus::                       
* Pages::                       
@end menu

@node Menus, Pages, AHI, AHI
@comment  node-name,  next,  previous,  up
@subsection Menus

@menu
* Project Menu::                
* Edit Menu::                   
* Settings Menu::               
* Help Menu::                   
@end menu

@node Project Menu, Edit Menu, Menus, Menus
@comment  node-name,  next,  previous,  up
@subsubsection @samp{Project} Menu

The @samp{Project} menu options let you save the editor settings to a
specific file and open previously saved files.

@table @samp

@item Open@dots{}
Loads the information from a specified preset file.

@item Save As@dots{}
Specify the preset file in which to save the currently displayed settings.
The requester provides a default file name in the @file{Presets} drawer.
If you want to change it, type in the full path to a different file and
select @samp{OK}.

@item About@dots{}
Shows the credits.

@item Quit
Exits the editor without performing any changes (the same as the
@samp{Cancel} gadget).

@end table

@node Edit Menu, Settings Menu, Project Menu, Menus
@comment  node-name,  next,  previous,  up
@subsubsection @samp{Edit} Menu

The @samp{Edit} menu options allow you to restore previously used settings
or the default settings.  The options are:

@table @samp

@item Reset to Default
Returns the editor settings to the default settings.

@item Last Saved
Returns the editor settings to the last settings you saved.

@item Restore
Returns the editor to the settings displayed when the editor first opened.

@end table


@node Settings Menu, Help Menu, Edit Menu, Menus
@comment  node-name,  next,  previous,  up
@subsubsection @samp{Settings} Menu

The @samp{Settings} menu contains the @samp{Create Icons?} item that allows
you to save project icons representing your editor settings in the same
drawer as your files.  For example, if you save the specifications to the
@file{SYS:Prefs/Presets/AHI.pre} file, the icon for the file appears in the
@samp{Presets} window.  Double-click on the icon to activate the file's
settings.

@node Help Menu,  , Settings Menu, Menus
@comment  node-name,  next,  previous,  up
@subsubsection @samp{Help} Menu

The @samp{Help} menu's items let you view the on-line ``@sc{Ahi} User's
Guide'' using AmigaGuide.

@table @samp

@item Help@dots{}
Brings up the chapter about the preferences program (this chapter).

@item AHI User's Guide@dots{}
Brings up the first page of ``@sc{Ahi} User's Guide''.

@item Concept Index@dots{}
Brings up the index of ``@sc{Ahi} User's Guide''.

@end table


@node Pages,  , Menus, AHI
@comment  node-name,  next,  previous,  up
@subsection Pages

The preferences program's GUI is divided in two pages:

@menu
* Mode settings::               
* Advanced settings::           
@end menu

@node Mode settings, Advanced settings, Pages, Pages
@comment  node-name,  next,  previous,  up
@subsubsection @samp{Mode settings} Page

@cindex Mode settings
@cindex Audio mode settings
@cindex Settings, audio mode
@cindex Preferences, audio mode

On this page you select which audio mode to use.  You can select audio
mode for both low-level programs (@samp{Music unit}) and other
programs (@samp{Unit n}) that don't require low-level audio access
such as the @code{AUDIO:} device (@pxref{AHI-Handler}), sample players
etc.  You can also select the sample mixing (and recording) frequency
to use and how many channels you wish use @footnote{The more channels
you select, the more sounds can you play at the same time.  However,
due to the nature of sound mixing in version 4, the volume will
decrease as well.  This limitation is not present in version 6, where
the volume will be adjusted dynamically. If you try to play more
sounds at the same time than there are channels, the least important
sounds will be muted until the other sounds have finished playing.}.
Furthermore, you can set three hardware properties of your sound
hardware, namely the @dfn{output volume}, @dfn{monitor volume} and
@dfn{input gain}.  Finally, you can select which input and output
connectors you wish to use.

Normally, you configure one unit per sound card. Since most people
only have one sound card, all units but unit 0 are often unused.

The @samp{Music unit} is the defaults for low-level programs.  Such
programs often have an audio mode requester that lets you chose an audio
mode.  If you chose @samp{Default audio mode} from this requester, these
settings will be used.  Note that the number of channels is not selectable
here, it's up to the application program to decide how many channels to
use.



@node Advanced settings,  , Mode settings, Pages
@comment  node-name,  next,  previous,  up
@subsubsection @samp{Advanced settings} Page

@cindex Advanced settings
@cindex Settings, advanced
@cindex Preferences, advanced

This page contains some options that should not be used if you don't
understand them.


@table @samp

@cindex Debug level

@item Debug level
Sets the debug level for @sc{Ahi}.  If not @samp{None}, @sc{Ahi} will print
debug information to the serial port.

@cindex Echo, enable/disable/fast

@item Echo
On slow processors (like anything below a MC68040) echo can take so much
CPU power that it becomes unusable, and can therefore be disabled.  As an
alternative, echo can be done @samp{Fast}, which means that the parameters
will be twisted in order to gain speed.  The result may not be what the
composer or programmer wanted, but at least it's echo.

@cindex Surround sound, enable/disable

@item Surround in "Fast" modes
In modes that use multiplication tables (the so-called ``fast'' modes) all
surround sounds have to be mixing without using tables.  In order to make
mixing as fast as possible, surround sounds can be forced to ordinary ones
by disabling them.

@cindex Master volume, clipping
@cindex Clipping, master volume

@item Master volume
Normally, the ``Master volume'' feature of AHI can make the output heavily
distorted if set too high.  Turning ``clipping'' on can reduce the
distortion, but will---in the current implementation---use 128 kB of extra
memory.  Note that the so-called ``HiFi'' modes are not affected by this
switch (@pxref{The Mode Descriptors}).

@cindex CPU usage limit

@item CPU usage limit
Some hardware drivers (but not all) can be told not to use more that a
given percentage of the available CPU time in order to prevent lockups.  If
your mouse pointer freezes when playing music, reduce the limit slightly.
If on the other hand the sound becomes cut and distorted, you can try to
increase the limit---but remember that you risk locking up the computer!

@cindex Anti-click
@cindex Default anti-click time

@item Default anti-click time
Starting with @sc{Ahi} V6, the software mixer can delay the sounds an
application wants to play until the currently playing sound goes
through a zero-crossing, in order to avoid nasty clicks. Normally,
it's the applications job to specify the maximum time the sounds may
be delayed, but not all applications provide this information. By
setting this slider to the desired value, all applications not
specifying their own limit will will default to this value instead.

@cindex Volume scaling

@item Volume scaling
When more than one application is using @sc{Ahi} at the same time,
care has to be taken so no audible distortion is created. In @sc{Ahi}
V4 and before, this implied that the volume was lowered in such a way
that there were never any distortion. Since ``clipping'' (see above)
was optional, this was the only sensible thing to do. In @sc{Ahi} V6,
clipping is always used and the distortion created is often not
audible. Because of this, all sounds are now played at full volume.

However, should you wish so, it's possible to manually select that
strategy to use. The available options are @samp{Safe} (as in @sc{Ahi}
V4), @samp{Safe, Dynamic} (volume is dynamically adjusted based on how
many sounds are curreltly being played), @samp{Full volume} (the new
default) and finally @samp{-3 dB} and @samp{-6 dB}, which plays all
sounds at -3 or -6 dB.

@end table




@c ***********************************************************************
@c **** AHI-Handler ******************************************************
@c ***********************************************************************

@node  AHI-Handler, System Files, AHI, System description
@comment  node-name,  next,  previous,  up
@section AHI-Handler

@cindex AHI-Handler
@cindex @code{AUDIO:}

The @code{AHI-Handler} is an I/O mechanism that is used to play and record
sounds.  The @code{AHI-Handler} is normally mounted as @code{AUDIO:} at
startup time, or later by double-clicking on its icon or by giving the
following command in a Shell window:  @kbd{mount AUDIO:  @key{RET}}.

The DOSDriver entry is:

@example
@group
Handler         = L:AHI-Handler
Stacksize       = 4096
Priority        = 5
GlobVec         = -1
@end group
@end example


When the device is mounted, you can read from the device to record and
write to it to play.  Options can be given like this:

@example
"AUDIO:PRIORITY=1 VOLUME=50"
@end example

All slashes (@samp{/}) in the name will be translated to spaces.  Thus, if
you use slashes instead of spaces, you don't have to use quotes around the
name:

@example
AUDIO:PRIORITY/1/VOLUME/50
@end example


The full template for reading is:

@example
B=BITS/K/N,@-C=CHANNELS/K/N,@-F=FREQUENCY/K/N,@-T=TYPE/K,@-L=LENGTH/K/N,@-
S=SECONDS/K/N,@-BUF=BUFFER/K/N,@-UNIT/K/N
@end example


The full template for writing is:

@example
B=BITS/K/N,@-C=CHANNELS/K/N,@-F=FREQUENCY/K/N,@-T=TYPE/K,@-V=VOLUME/K/N,@-
P=POSITION/K/N,@-PRI=PRIORITY/K/N,@-L=LENGTH/K/N,@-S=SECONDS/K/N,@-
BUF=BUFFER/K/N,@-UNIT/K/N
@end example

@samp{BITS} can be one of 8, 16 or 32.  @samp{CHANNELS} can be either 1 for
mono or 2 for stereo.  The @samp{FREQUENCY} is in Hertz, @samp{TYPE} is one
of @samp{SIGNED}, @samp{AIFF} or @samp{AIFC}.  @samp{VOLUME} ranges from 0
(silence) to 100 (full volume), and @samp{POSITION} ranges from @minus{}100
(far left) via 0 (center) to 100 (far right).  The @samp{PRIORITY} can be
from @minus{}128 to 127 (unstoppable).  @samp{LENGTH} is how many bytes you
wish to read or write, and @samp{SECONDS} is the same, but in seconds
instead of bytes.  The @samp{BUFFER} size is specified in bytes.  Note that
two buffers are always used, which means that the memory usage will be two
times BUFFER.  @samp{UNIT} selects which @code{ahi.device} unit to use.

The default options for reading are @samp{BITS=8} @samp{CHANNELS=1}
@samp{FREQUENCY=8000} @samp{TYPE=SIGNED} @samp{LENGTH=very-very-much}
@samp{BUFFER=32768} @samp{UNIT=0}.

The default options for writing are @samp{BITS=8} @samp{CHANNELS=1}
@samp{FREQUENCY=8000} @samp{TYPE=<none>} @samp{VOLUME=100}
@samp{POSITION=0} @samp{PRIORITY=0} @samp{LENGTH=very-very-much}
@samp{BUFFER=32768 UNIT=0}.

@cindex AIFF
@cindex AIFC
@cindex IFF-AIFF
@cindex IFF-AIFC

If @samp{TYPE} is not specified, the default behaviour is to identify the
data stream as @dfn{IFF-AIFF} or @dfn{IFF-AIFC}.  If so, the default values
of @samp{BITS}, @samp{CHANNELS}, @samp{FREQUENCY} and @samp{LENGTH} will
taken from the file.  You can still override them if you wish.  If the
stream could not be identified, the data format is assumed to be
@samp{SIGNED}.

@cindex Distortion, while recording

Both when reading and writing the sample rate will be converted on the fly
to what the underlying hardware is configured to.  Normally this is not a
big problem when writing, but the quality when reading leaves quite a lot
to wish for, since no low-pass filters are used.

Example 1:

@example
copy Louise.AIFF AUDIO:
@end example

plays the file @file{Louise.AIFF}.

Example 2:

@example
copy AUDIO:SECONDS/10/TYPE/AIFC/B/16/F/44100/C/2 sample.AIFC
@end example

records 10 seconds of audio and stores it in the file @file{sample.AIFC} as
uncompressed @dfn{IFF-AIFC}, 16 bit stereo at 44.1 kHz.


@c ***********************************************************************
@c **** System Files *****************************************************
@c ***********************************************************************

@node System Files,  , AHI-Handler, System description
@comment  node-name,  next,  previous,  up
@section System Files

@cindex System Files

@cindex Drivers
@cindex Sound card drivers

@cindex AmigaXL
@cindex Aura
@cindex Clarity
@cindex Concierto
@cindex Delfina
@cindex DraCo Motion
@cindex ESS Solo-1
@cindex ForteMedia FM801
@cindex Maestro Pro
@cindex Melody
@cindex Paula
@cindex Prelude
@cindex Repulse
@cindex SoundBlaster 128
@cindex SoundBlaster Live!
@cindex Sunrize
@cindex Terratec 128i PCI
@cindex Terratec 512i digital
@cindex Toccata
@cindex VIA AC97
@cindex Wavetools

@sc{Ahi} uses a set of hardware drivers for each sound card.  This means
that it's easy to add support for new sound cards as they appear.  At the
time of writing, the following sound cards are supported:

@itemize @bullet
@item
AmigaXL
@item
Aura (sampling only)
@item
Clarity (sampling only)
@item
Concierto
@item
Delfina
@item
DraCo Motion
@item
ESS Solo-1
@item
ForteMedia FM801
@item
Maestro Pro
@item
Melody
@item
Paula (the built-in audio)
@item
Prelude
@item
Repulse
@item
SoundBlaster 128
@item
SoundBlaster Live!
@item
Sunrize
@item
Terratec 128i PCI
@item
Terratec 512i digital
@item
Toccata
@item
VIA AC97
@item
Wavetools
@end itemize

@menu
* The Drivers::                 
* The Mode Descriptors::        
@end menu


@node The Drivers, The Mode Descriptors, System Files, System Files
@comment  node-name,  next,  previous,  up
@subsection The Drivers

@cindex The Drivers

The hardware drivers themself are located in the @file{DEVS:AHI} drawer,
and are named as @file{<name>.audio}.  They are actually libraries, in
spite of being located under the @file{DEVS:} assign, and will be flushed
out from memory when not in use and the system needs more RAM.  Many of the
drivers require additional files; see below.  These extra files are not
delivered with @sc{Ahi}.

@table @code

@item concierto.audio
Requires @code{concierto.library}.

@item delfina.audio
Requires @code{delfina.library} version 4 or greater @footnote{The latest
version of the Delfina software can be found at Petsoff Limited
Partnership's WWW page:  @url{http://www.sci.fi/~petsoff}.}.


@item maestropro.audio
Requires @code{maestix.library} version 40.10 or greater @footnote{
@code{maestix.library} is available from AmiNet, for example @*
@url{ftp://ftp.germany.aminet.org/pub/aminet/util/libs/Maestix.lha}.}.  For
more information about this driver as well as the most recent version of
@code{maestix.library}, please visit the author's WWW page @footnote{
Richard Körber's WWW page:  @url{http://www.is-koeln.de/einwohner/shred}.}.


@item melody.audio
Requires @code{melodympeg.device} version 1.40 or greater @footnote{
@code{melodympeg.device} and the latest version of this driver can be found
at the Kato Development Group's WWW page:
@url{http://home.pages.de/~kato}.}.


@cindex CyberSound
@cindex DAC calibration
@cindex 14 bit calibration
@cindex Calibration, 14 bit

@item paula.audio
On startup, the file
@file{ENV:CyberSound/SoundDrivers/14Bit_Calibration} is read and used
for the 14 bit DAC calibration. This file can be created by using
Christian Buchner's CyberSound calibration tool, which is available
from
@url{http://www.lysator.liu.se/~lcs/files/ahi/extras/CyberSound.lha},
among other places.

The 14 bit modes cannot be used for recording, but the 8 bit modes
supports both generic parallel port samplers as well as both the Aura
and Clarity samplers.

@cindex DMA

The so-called @samp{Paula:DMA 8 bit stereo} mode uses Paula's built-in
DMA engine to play the sounds; no software mixing at all is
performed. Because of this, only four channels are available and no
stereo panning is available (just like all other plain ``stereo''
modes). In addition, the only mixing frequency available is Paula's
master clock.

@cindex AHIpaulaFilterFreq variable

The environment variable @file{AHIpaulaFilterFreq} is checked every time
playback starts, and should be set to a frequency in Hertz.  If the mixing
frequency is higher than this value, the internal low-pass filter will be
turned off.  If it is lower, the filter will be activated.  The default is
0 Hz, which means that the filter will always be turned off.  Example:

@example
SetEnv AHIpaulaFilterFreq 16000
Copy ENV:AHIpaulaFilterFreq ENVARC:
@end example

@cindex AHIpaulaSampleLimit variable
@cindex VGA screen mode

The variable @file{AHIpaulaSampleLimit} is also checked.  This variable
controls how the driver should handle mixing frequencies greater than 28
kHz, which is the limit of the hardware when using 15 kHz screen modes
(PAL, NTSC, Euro36).  If the current screen mode is a VGA (31 kHz) mode,
the driver allows frequencies up to 48 kHz.  Normally, the driver checks
the current screen mode, and decides if the higher mixing frequencies
should be available or not.  By setting this variable, you can control that
decision.  If set to @samp{0}, the frequency will always be limited to 28
kHz and if set to @samp{1}, there will never be any limit.  Example:

@example
SetEnv AHIpaulaSampleLimit 1
Copy ENV:AHIpaulaSampleLimit ENVARC:
@end example

This will disable any screen mode checking, and will always allow up to 48
kHz in the mode requesters.

@example
Delete ENV:AHIpaulaSampleLimit
Delete ENVARC:AHIpaulaSampleLimit
@end example

This will turn on the screen mode checking again.

@cindex CyberGraphX
@cindex AddAudioModes

Please note that this 31 kHz screen mode is not necessary the screen mode
you're seeing on your monitor.  If you're using a graphic card, you must
force the Amiga video signal to 31 kHz.  CyberGraphX users might want to
try this command (@pxref{AddAudioModes} for more information):

@example
AddAudioModes DBLSCAN
@end example

@cindex Picasso96
@cindex AmigaVideo

Picasso 96 users just need to set the @file{Picasso96/AmigaVideo} variable
to @samp{31kHz}:

@example
SetEnv Picasso96/AmigaVideo 31kHz
@end example

@cindex AHIpaulaSwapChannels variable

Because of incorrect hardware documentation, there is great confusion about
which hardware channels are sent to the left speaker, and which are sent to
the right.  @code{paula.audio} uses the correct order (right, left, left,
right) but many other programs don't.  The @file{AHIpaulaSwapChannels}
variable was added to let the user decide if the correct or incorrect
behaviour should be used.  In not present or set to @samp{0}, the correct
behaviour is used.  If set to @samp{1}, the left and right channels will be
swapped.

@cindex AHIpaulaFakeMixFreq variable

By setting the @file{AHIpaulaFakeMixFreq} variable to @samp{1}, you can make
@code{paula.audio} not report the actual mixing frequency used, but rather
exactly the frequency that the program asked for. The default, @samp{0},
will report the nearest possible mixing frequency that the Paula sound chip
can use.

Why would anyone want this, you may ask. Well, by setting the variable
to @samp{1}, you will make @code{paula.audio} behave exactly like 
@code{filesave.audio}, which can be important if you are making music that
you will later render and put on a CD, for example. Be warned, however, that
setting this variable to @samp{1} can make the sound produced sound a little
false (but not when rendered, of course)! 


@cindex AHIpaulaBufferLength variable
@cindex MC68060 CPU
@cindex 68060 CPU

Finally, the variable @file{AHIpaulaBufferLength} controls the minimum
playback buffer size to use.  Because of the limited @dfn{Chip RAM}
bandwidth, a @dfn{MC68060} CPU might run into trouble when using the
default minimum buffer size (0).  By setting this variable to @samp{1024},
for example, you will reduce the number of interrupts caused and increase
the number of samples transferred each time to at least 1024 samples.  But
take care!  Setting this variable too high will cause long periods with
multitasking disabled.


@cindex AHItoccataNoTask variable

@item toccata.audio
Requires @code{toccata.library} version 12 or greater @footnote{
@code{toccata.library} is available from AmiNet, for example @*
@url{ftp://ftp.germany.aminet.org/pub/aminet/util/libs/toclib12.lha}.}.
This driver also reads the environment variables @file{AHItoccataNoTask}
and @file{AHItoccataIrqSize}.  If @file{AHItoccataNoTask} is set to
@samp{1}, all mixing will be done in a @dfn{Software Interrupt} which means
the sound output will not suffer when multitasking is turned off.  The back
side is that it requires a faster CPU.  Much faster.  Only use this option
as a last resort.  Example:

@example
SetEnv AHItoccataNoTask 1
Copy ENV:AHItoccataNoTask ENVARC:
@end example

@cindex AHItoccataIrqSize variable

@file{AHItoccataIrqSize} specifies the number of bytes transferred to the
card each interrupt and defaults to @samp{512}.  It must be one of
@samp{32}, @samp{64}, @samp{128}, @samp{256} or @samp{512}.  If you
encounter problems with serial port hardware, you might want to set this
variable to a lower value than the default.

@cindex AHItoccataPlayBufferSize variable

@file{AHItoccataPlayBufferSize} specifies the number of bytes transferred
to the card when playing and defaults to @samp{512}.  It must between 512
and 16384 and also a multiple of 512.  If you encounter problems with
serial port hardware, you might want to set this variable to a higher value
than the default.

@cindex AHItoccataRecordBufferSize variable

@file{AHItoccataRecordBufferSize} specifies the number of bytes transferred
from the card when recording and defaults to @samp{16384}.  It must between
512 and 16384 and also a multiple of 512.  If you think the latency when
recording is too high, you might want to set this variable to a lower value
than the default.


Please note that this driver is used for both the DraCo Motion and the
Toccata.

@item wavetools.audio
Requires @code{dad_audio.device}.

@end table


@node The Mode Descriptors,  , The Drivers, System Files
@comment  node-name,  next,  previous,  up
@subsection The Mode Descriptors

@cindex The Mode Descriptors
@cindex Audio mode database
@cindex Database, audio modes

The files in @file{DEVS:AudioModes} describes the available audio modes
that you can chose from in the audio mode requester.  All files located in
this drawer will be scanned the first time @sc{Ahi} is used, and added to
the internal mode database.

@cindex Audio modes, overview

The following modes are available for most drivers:

@table @samp

@cindex Mono (audio mode)

@item Mono
Mono output, all sounds will be centered, and no surround sound is
possible.

@cindex Stereo (audio mode)

@item Stereo
Stereo output, but all sounds are either forces to the extreme left or
extreme right---centered sounds are not possible, for example.  This mode
will probably use slightly more CPU power than the ``mono'' mode.  Since
all sounds are forced to one of the extreme positions, stereo sounds will
play with either the left or the right part muted.

@cindex Stereo++ (audio mode)

@item Stereo++
Stereo output with free positioning of all sounds---an instrument can be
placed anywhere between the two speakers, for example.  Unless the program
only uses the extremes when positioning a sound, this mode will eat more
CPU cycles than the ``stereo'' mode.

@cindex Fast Mono (audio mode)
@cindex Fast Stereo (audio mode)
@cindex Fast Stereo++ (audio mode)
@cindex Multiplication tables
@cindex Tables, multiplication 

@item  Fast mono
@itemx Fast stereo
@itemx Fast stereo++
``Fast'' modes take some shortcuts in order to reduce the CPU usage.  For 8
bit samples, multiplication tables will be used, which speeds up mixing by
magnitudes and still gives the same quality with the exception of volume
levels---instead of 256 levels only 32 are available.  The disadvantage of
multiplication tables is that they require a fair amount of free RAM.  For
16 bit samples, the shortcuts are a bit more crude:  the volume of each
sound will be rounded to a power of 2 before it's played.  This means that
a 16 bit sound will only be played at volume levels of 100%, 50%, 25%,
12.5% etc.  If surround sounds are played, the normal (not ``fast'') mixing
routines will be used.  You can use the preferences program
(@pxref{Advanced settings}) to disable surround sounds for ``fast'' modes.

``Fast'' modes are useful if you wish to use as little CPU power as
possible, but don't mind spending some memory to reach that goal.  They are
also very useful when playing 16 bit audio streams---from a sample or MPEG
player, for example---since that usually doesn't involve volume scaling
and frequency recalculation. However, if used for playing streams, make
sure the mixing frequency is the same as the stream frequency!


@cindex HiFi Mono (audio mode)
@cindex HiFi Stereo (audio mode)
@cindex HiFi Stereo++ (audio mode)
@cindex Linear interpolation
@cindex Interpolation, linear

@item  HiFi mono
@itemx HiFi stereo
@itemx HiFi stereo++
``HiFi'' modes use much better mixing algorithms than the other modes,
using 32 bits internally and linear interpolation.  They are also
@emph{much} slower than the other modes.  ``HiFi'' modes turn on master
volume with clipping automatically (@pxref{Advanced settings}).

``HiFi'' modes are useful when you're playing music---@dfn{MIDI} songs or
@dfn{modules}, for example---and want the best possible quality @sc{Ahi}
has to offer.


@cindex HiFi 7.1 (audio mode)

@item  HiFi 7.1
``HiFi 7.1'' modes can be used by movie players or audio editors.

@end table


@c ***********************************************************************
@c **** The Author *******************************************************
@c ***********************************************************************

@node  The Author, Acknowledgments, System description, Top
@comment  node-name,  next,  previous,  up
@chapter The Author

@cindex The Author
@cindex Author of AHI

The author can be reached at the following addresses:

@table @asis

@item Electronic mail
@email{martin@@blom.org}

@item Standard mail
  Martin Blom
@*Luftvärnsgatan 42
@*SE-587 34 Linköping
@*Sweden

@item World-Wide Web
@url{http://martin.blom.org}

@end table

@menu
* The Man::                     
* The Myth::                    
* The Concept::                 
@end menu


@c ***********************************************************************
@c **** The Man **********************************************************
@c ***********************************************************************

@node The Man, The Myth, The Author, The Author
@comment  node-name,  next,  previous,  up
@section The Man

@cindex The Man
@cindex Nerd, definition of

Martin Blom was born 1974 in a town in Sweden called Jönköping.  He had a
happy childhood, lots of good friends, and a great family.  He did his
homework and went to church every Sunday.

@cindex Jesus Christ

But then, one cold, dark Christmas Eve in the year of our Lord 1986,
everything went wrong.  This was the day when @emph{it} entered his life.
At once, there were fights among the brothers.  They all wanted to use
@emph{it}.  Martin started to avoid playing with kids that didn't share his
passion for @emph{it}.  The school work suffered.  Other interests
suffered.  @emph{It} was the Commodore 64 home computer, and it would
forever change his life.

Today, more than ten years after the tragedy, things are worse than ever.
He is studying @dfn{Computer Science and Engineering} at @dfn{Linköping
Institute of Technology}, surrounded every day by other computer nerds.

@cindex Modules on a C64

Martin has spent loads of money on computers over the years:  Amiga 500,
Amiga 4000/040, Commodore 128D, Commodore 64 (in order of appearance),
modem, monitors, disks, mice etc.  Interesting enough, no sound card.  He
did, however, build a sound card of his own for the Commodore 64, and he
likes to mention that now and then (you see, this was one of the few
hardware projects that actually worked!).  4 channels, 8 bit samples.  He
even wrote a module player for the good old 64.  And it had quadrascopes.



@c ***********************************************************************
@c **** The Myth *********************************************************
@c ***********************************************************************

@node The Myth, The Concept, The Man, The Author
@comment  node-name,  next,  previous,  up
@section The Myth

@cindex The Myth

Some people actually seem to believe that Martin is a good programmer.
They couldn't be more wrong.  He is lazy, has no patience, he is a slow
thinker and he doesn't like anything he @emph{has} to do.

Martin used to say

@itemize @bullet
@item
 If you can't write applications, write games.
@item
 If you can't write games, write demos.
@item
 If you can't write demos, write utilities.
@item
 If you can't write utilities, write BBS intros and doors.
@item
 If you can't do that either, get a modem and start trading.
@end itemize


And guess what?  He tried demos.  He tried utilities.  He tried intros.  He
wrote a door for /X.  And he traded warez.


@c ***********************************************************************
@c **** The Concept ******************************************************
@c ***********************************************************************

@node The Concept,  , The Myth, The Author
@comment  node-name,  next,  previous,  up
@section The Concept

@cindex The Concept
@cindex Fame

What do you do if you don't have the patience to write applications, if you
only write moderate demos, are tired of utilities, hate BBS doors, are
totally fed up with playing games and have decided to get legal and stop
pirating software?  Simple.  Try a new concept!

Take a deep breath.  Close your eyes.  Think of one thing your computer
lacks.  Think of one of the things that makes your favorite toy feel
outdated.  Think of something that nobody has (successfully) tried before.
Then write the software, and release it as Freeware.

In Martins case, that something was hardware independent audio.

Come on, admit it!  It's brilliant.  It doesn't matter if you are a good
programmer.  It doesn't matter if it takes 3 years to get to a
half-finished product.  It doesn't matter if you give it the most
unimaginative name in the world---you can even use a TLA @footnote{Three
Letter Acronym}.  Nobody is going to say your software sucks, because
nobody can say he has done better himself.  Nobody is going to complain if
you're slow on releasing bug fixes and updates, because the software is
free.  And nobody is going to be angry with you if you stop developing the
software---because it sucked in the first place, remember?

This concept won't make you rich, but are rich people really happier?


@c ***********************************************************************
@c **** Acknowledgments *************************************************
@c ***********************************************************************

@node Acknowledgments, GPL, The Author, Top
@comment  node-name,  next,  previous,  up
@chapter Acknowledgments

@cindex Acknowledgments

There are quite a few people that have helped with the development of
@sc{Ahi}. Where would be a better place to thank them than in the
acknowledgments chapter? You tell me.

@menu
* Thanks::                      
* Contributors::                
* Donors::                      
* Honourable mention::          
@end menu

If you feel your name ought to be present here, please accept my
apologies and don't hesitate to contact me as soon as possible.


@c ***********************************************************************
@c **** Special thanks ***************************************************
@c ***********************************************************************

@node Thanks, Contributors, Acknowledgments, Acknowledgments
@comment  node-name,  next,  previous,  up
@section Special thanks

@cindex Special thanks

The author wish to give special thanks to the following persons
(in alphabetical order):

@table @asis

@item Amiga Translators' Organization
For the catalog translations.

@item Daniel Arthursson and Johan Nyblom
For making it possible to write the first driver for a sound card, the
@dfn{Wavetools} card.  I'm sure @sc{Ahi} would not have been accepted as
quick as it was without this driver.

@item Christian Buchner
For the calibrated 14 bit routines for Paula.

@item MacroSystem Computer GmbH
For lending me a Toccata card.

@item bbrv and Genesi
For the Pegasos and that cool OS.

@item Przemyslaw Gruchala
For finding all those bugs.

@item Ben Hermans and Hyperion Entertainment
For hiring me to write a SBLive! driver.

@item Steve Krueger and SAS Institute, Inc.
For the SAS/C compiler and all the updates.

@item Johan Otterström
For all the help with the Toccata driver.

@item Jyrki Petsalo and Teemu Suikki
For the Delfina driver, and for supporting @sc{Ahi} in the early days.  And
of course, for the sound card!

@item Pauli Porkka
For active support and promotion of @sc{Ahi} from the beginning.

@item All the rest
Many, many other have helped me, sent suggestions etc.  I owe you a lot.

@end table

And of course, the actual catalog translators:
Alex Plotnicov,
Andrija Antonijevic,
Bernardo Innocenti,
Dósa Márton,
Eivind Olsen,
Frederico Borges,
Ljubomir Jankoviá,
Marcin Orîowski,
Martin Sprenger,
Michael Malyshev,
Michel Vissers,
Ondrej Zima,
Pauli Porkka,
Petteri Kallio,
Piergiorgio Ghezzo,
Roger Hågensen,
Rúben Alvim,
Samuel Aguilera,
Sini¹a Loliæ,
Stéphane Barbaray,
Sönke Tesch,
Thomas Petersen,
Vit Sindlar,
Vörös Viktor,
me, myself and I@enddots{}


@c ***********************************************************************
@c **** Contributors *****************************************************
@c ***********************************************************************

@node Contributors, Donors, Thanks, Acknowledgments
@comment  node-name,  next,  previous,  up
@section Contributors

@cindex Contributors

The following people have contributed to the @sc{Ahi} project with
code or drivers:

@table @asis

@item Stéphane Barbaray
The MUI version of the preferences program.

@item Olaf Barthel
The Concierto driver.

@item Chris Brenner
A (never finished?) Sunrize driver.

@item Valenta Ferenc
The VSS driver.

@item Ben Fuller
A never finished Sunrize driver. May he rest in peace.

@item Simon N Goodwin
A good attempt on the Silicon Studio driver. :-)

@item Przemyslaw Gruchala
A C-Media and a Yet To Be Named driver. :-)

@item Thorsten Hansen
The Melody MPEG and Amithlon drivers.

@item Richard Körber
The Maestro Pro driver.

@item Frank Mariak
The GREX and Pegasos drivers.

@item Bernd `Bernie' Meyer
The---sniff!---never to be released Umilator driver.

@item Gunther Nikl
Patches!

@item Kenneth Nilsen
A (never finished?) Sunrize driver. And here I was, thinking the
``Amiga'' curse was the worst curse of them all @enddots{}

@item Johan Nyblom
The latest Wavetools driver.

@item Pauli Porkka
The first version of the Toccata driver.

@item Markus Pöllmann
The AmigaXL driver.

@item Bernd Roesch
The UAE driver.

@item Harry Sintonen
The very first source code patch!

@item Sigbjørn Skjæret
A 'C' version of @code{paula.audio}.

@item Stefan Sommerfeld
The RePulse driver.

@item Rüdiger Sopp
The first version of the preferences program.  Too bad things didn't work
out as planned.

@item Pawel Stypula
The Mediator drivers.

@item Teemu Suikki
The Delfina driver and the first PPC port.

@item Benjamin Vernoux
An FM801 driver.

@item Davy Wentzler
The AmigaOS 4.x port and many drivers.

@item Thomas Wenzel
The Prelude driver.

@item Frank Wille
The (no longer used) ELF loader.

@end table

Many thanks!

@c ***********************************************************************
@c **** Donors ***********************************************************
@c ***********************************************************************

@node Donors, Honourable mention, Contributors, Acknowledgments
@comment  node-name,  next,  previous,  up
@section Donors

The following people has donated money to the project. It has ment a
lot to me, and please forgive me for not being able to finish a
working WarpUp or PowerUp PPC version of @sc{Ahi}. I hope the MorphOS
and upcoming AmigaOS 4 versions made up for that.

Agneta Nord,
Alan Surrette,
Anders Drejer,
Andreas Johansson,
Ben Hermans,
Bernardo Innocenti,
Björn Hagström,
Christopher Lakatos,
Davy Wentzler,
Fabio Barzagli,
Fredrik Westermarck,
Fredrik Zetterlund,
Gregory Donner,
Göran Karlsson
Ismo Houvinen,
Johan Lind,
John Haubrich,
John Hertell,
John Hindle,
John Rörland,
Jonas Hulten,
Jonny C. Kitchens,
Jorma Valli,
Linus Silvander,
Magnus Bouvin,
Malcolm Harnden,
Marijan Franovic,
Matteo Consolati
Matthew K. Massa,
Mematex AB,
Mike Masquith,
Niko Tomatsidis,
Ola Karlsson,
Pasi Langerroos,
Per Jonsson,
Robert Korzeniewski,
Robert Nilsson,
Staffan Bengtsson,
Stefan Nilsson,
Steve Hodson,
Steven Maes,
The Magic Lantern
Thomas & Stefan Lorenz,
Ulf Tidstrand,
Vincent Morenas,
Winfried Krüger and
Zafer KANTAR.



@c ***********************************************************************
@c **** Honourable mention ***********************************************
@c ***********************************************************************

@node     Honourable mention,  , Donors, Acknowledgments
@comment  node-name,  next,  previous,  up
@section Honourable mention

@cindex Honourable mention

The road from @sc{Ahi} version 4 to version 6 has been a long one.
Maybe not when counted in actual work hours, but definitely when
counted in calendar time.

It began with a failed attempt to port the device to the PowerPC
processor, at which time @sc{Ahi} became a ``shareware'' product in
order to finance a Cyberstorm/PPC CPU card (@pxref{Donors}). When I
realized I couldn't deliver, @sc{Ahi} instead became Free Software,
which it still and will probably always be.

The first release of the source code under the ``GPL'' was made on
April 1st, 1999, as part of the ``Divine Records'' joke (see
@url{http://martin.blom.org/ds/} and
@url{http://martin.blom.org/dr/}@footnote{Believe it or not, but I
still get mail from people who want me to publish their music now and
then!}).

Some people actually took their time to fill in the source code
registration form. You know who you are. Thank you! I'm sure I'll
figure out what to do will all addresses real soon now.

But here comes the best part: Benoit Deschenes (Quebec, Canada),
Thomas Houlberg (Sdr. Bjert, Denmark) and Patrice Machin (Paris,
France) actually ordered my CD. Unfortunately, I only made a limited
amount of those CDs (17 plus one pre-production CD, if I remember
correctly) and have been out of stock ever since. To compensate for
this unusually long delivery delay, I've decided to try to produce
three extra copies and send them to you for free. Benoit, Thomas and
Patrice, if you read this and have moved since 1999, please let me
know of your new address as soon as possible!


@c ***********************************************************************
@c **** GNU General Public License ***************************************
@c ***********************************************************************

@node  GPL, LGPL, Acknowledgments, Top
@comment  node-name,  next,  previous,  up
@unnumbered GNU GENERAL PUBLIC LICENSE
@center Version 2, June 1991

@display
Copyright @copyright{} 1989, 1991 Free Software Foundation, Inc.
59 Temple Place, Suite 330, Boston, MA  02111-1307  USA

Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.
@end display

@unnumberedsec Preamble

  The licenses for most software are designed to take away your
freedom to share and change it.  By contrast, the GNU General Public
License is intended to guarantee your freedom to share and change free
software---to make sure the software is free for all its users.  This
General Public License applies to most of the Free Software
Foundation's software and to any other program whose authors commit to
using it.  (Some other Free Software Foundation software is covered by
the GNU Library General Public License instead.)  You can apply it to
your programs, too.

  When we speak of free software, we are referring to freedom, not
price.  Our General Public Licenses are designed to make sure that you
have the freedom to distribute copies of free software (and charge for
this service if you wish), that you receive source code or can get it
if you want it, that you can change the software or use pieces of it
in new free programs; and that you know you can do these things.

  To protect your rights, we need to make restrictions that forbid
anyone to deny you these rights or to ask you to surrender the rights.
These restrictions translate to certain responsibilities for you if you
distribute copies of the software, or if you modify it.

  For example, if you distribute copies of such a program, whether
gratis or for a fee, you must give the recipients all the rights that
you have.  You must make sure that they, too, receive or can get the
source code.  And you must show them these terms so they know their
rights.

  We protect your rights with two steps: (1) copyright the software, and
(2) offer you this license which gives you legal permission to copy,
distribute and/or modify the software.

  Also, for each author's protection and ours, we want to make certain
that everyone understands that there is no warranty for this free
software.  If the software is modified by someone else and passed on, we
want its recipients to know that what they have is not the original, so
that any problems introduced by others will not reflect on the original
authors' reputations.

  Finally, any free program is threatened constantly by software
patents.  We wish to avoid the danger that redistributors of a free
program will individually obtain patent licenses, in effect making the
program proprietary.  To prevent this, we have made it clear that any
patent must be licensed for everyone's free use or not licensed at all.

  The precise terms and conditions for copying, distribution and
modification follow.

@iftex
@unnumberedsec TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
@end iftex
@ifinfo
@center TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
@end ifinfo

@enumerate 0
@item
This License applies to any program or other work which contains
a notice placed by the copyright holder saying it may be distributed
under the terms of this General Public License.  The ``Program'', below,
refers to any such program or work, and a ``work based on the Program''
means either the Program or any derivative work under copyright law:
that is to say, a work containing the Program or a portion of it,
either verbatim or with modifications and/or translated into another
language.  (Hereinafter, translation is included without limitation in
the term ``modification''.)  Each licensee is addressed as ``you''.

Activities other than copying, distribution and modification are not
covered by this License; they are outside its scope.  The act of
running the Program is not restricted, and the output from the Program
is covered only if its contents constitute a work based on the
Program (independent of having been made by running the Program).
Whether that is true depends on what the Program does.

@item
You may copy and distribute verbatim copies of the Program's
source code as you receive it, in any medium, provided that you
conspicuously and appropriately publish on each copy an appropriate
copyright notice and disclaimer of warranty; keep intact all the
notices that refer to this License and to the absence of any warranty;
and give any other recipients of the Program a copy of this License
along with the Program.

You may charge a fee for the physical act of transferring a copy, and
you may at your option offer warranty protection in exchange for a fee.

@item
You may modify your copy or copies of the Program or any portion
of it, thus forming a work based on the Program, and copy and
distribute such modifications or work under the terms of Section 1
above, provided that you also meet all of these conditions:

@enumerate a
@item
You must cause the modified files to carry prominent notices
stating that you changed the files and the date of any change.

@item
You must cause any work that you distribute or publish, that in
whole or in part contains or is derived from the Program or any
part thereof, to be licensed as a whole at no charge to all third
parties under the terms of this License.

@item
If the modified program normally reads commands interactively
when run, you must cause it, when started running for such
interactive use in the most ordinary way, to print or display an
announcement including an appropriate copyright notice and a
notice that there is no warranty (or else, saying that you provide
a warranty) and that users may redistribute the program under
these conditions, and telling the user how to view a copy of this
License.  (Exception: if the Program itself is interactive but
does not normally print such an announcement, your work based on
the Program is not required to print an announcement.)
@end enumerate

These requirements apply to the modified work as a whole.  If
identifiable sections of that work are not derived from the Program,
and can be reasonably considered independent and separate works in
themselves, then this License, and its terms, do not apply to those
sections when you distribute them as separate works.  But when you
distribute the same sections as part of a whole which is a work based
on the Program, the distribution of the whole must be on the terms of
this License, whose permissions for other licensees extend to the
entire whole, and thus to each and every part regardless of who wrote it.

Thus, it is not the intent of this section to claim rights or contest
your rights to work written entirely by you; rather, the intent is to
exercise the right to control the distribution of derivative or
collective works based on the Program.

In addition, mere aggregation of another work not based on the Program
with the Program (or with a work based on the Program) on a volume of
a storage or distribution medium does not bring the other work under
the scope of this License.

@item
You may copy and distribute the Program (or a work based on it,
under Section 2) in object code or executable form under the terms of
Sections 1 and 2 above provided that you also do one of the following:

@enumerate a
@item
Accompany it with the complete corresponding machine-readable
source code, which must be distributed under the terms of Sections
1 and 2 above on a medium customarily used for software interchange; or,

@item
Accompany it with a written offer, valid for at least three
years, to give any third party, for a charge no more than your
cost of physically performing source distribution, a complete
machine-readable copy of the corresponding source code, to be
distributed under the terms of Sections 1 and 2 above on a medium
customarily used for software interchange; or,

@item
Accompany it with the information you received as to the offer
to distribute corresponding source code.  (This alternative is
allowed only for noncommercial distribution and only if you
received the program in object code or executable form with such
an offer, in accord with Subsection b above.)
@end enumerate

The source code for a work means the preferred form of the work for
making modifications to it.  For an executable work, complete source
code means all the source code for all modules it contains, plus any
associated interface definition files, plus the scripts used to
control compilation and installation of the executable.  However, as a
special exception, the source code distributed need not include
anything that is normally distributed (in either source or binary
form) with the major components (compiler, kernel, and so on) of the
operating system on which the executable runs, unless that component
itself accompanies the executable.

If distribution of executable or object code is made by offering
access to copy from a designated place, then offering equivalent
access to copy the source code from the same place counts as
distribution of the source code, even though third parties are not
compelled to copy the source along with the object code.

@item
You may not copy, modify, sublicense, or distribute the Program
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense or distribute the Program is
void, and will automatically terminate your rights under this License.
However, parties who have received copies, or rights, from you under
this License will not have their licenses terminated so long as such
parties remain in full compliance.

@item
You are not required to accept this License, since you have not
signed it.  However, nothing else grants you permission to modify or
distribute the Program or its derivative works.  These actions are
prohibited by law if you do not accept this License.  Therefore, by
modifying or distributing the Program (or any work based on the
Program), you indicate your acceptance of this License to do so, and
all its terms and conditions for copying, distributing or modifying
the Program or works based on it.

@item
Each time you redistribute the Program (or any work based on the
Program), the recipient automatically receives a license from the
original licensor to copy, distribute or modify the Program subject to
these terms and conditions.  You may not impose any further
restrictions on the recipients' exercise of the rights granted herein.
You are not responsible for enforcing compliance by third parties to
this License.

@item
If, as a consequence of a court judgment or allegation of patent
infringement or for any other reason (not limited to patent issues),
conditions are imposed on you (whether by court order, agreement or
otherwise) that contradict the conditions of this License, they do not
excuse you from the conditions of this License.  If you cannot
distribute so as to satisfy simultaneously your obligations under this
License and any other pertinent obligations, then as a consequence you
may not distribute the Program at all.  For example, if a patent
license would not permit royalty-free redistribution of the Program by
all those who receive copies directly or indirectly through you, then
the only way you could satisfy both it and this License would be to
refrain entirely from distribution of the Program.

If any portion of this section is held invalid or unenforceable under
any particular circumstance, the balance of the section is intended to
apply and the section as a whole is intended to apply in other
circumstances.

It is not the purpose of this section to induce you to infringe any
patents or other property right claims or to contest validity of any
such claims; this section has the sole purpose of protecting the
integrity of the free software distribution system, which is
implemented by public license practices.  Many people have made
generous contributions to the wide range of software distributed
through that system in reliance on consistent application of that
system; it is up to the author/donor to decide if he or she is willing
to distribute software through any other system and a licensee cannot
impose that choice.

This section is intended to make thoroughly clear what is believed to
be a consequence of the rest of this License.

@item
If the distribution and/or use of the Program is restricted in
certain countries either by patents or by copyrighted interfaces, the
original copyright holder who places the Program under this License
may add an explicit geographical distribution limitation excluding
those countries, so that distribution is permitted only in or among
countries not thus excluded.  In such case, this License incorporates
the limitation as if written in the body of this License.

@item
The Free Software Foundation may publish revised and/or new versions
of the General Public License from time to time.  Such new versions will
be similar in spirit to the present version, but may differ in detail to
address new problems or concerns.

Each version is given a distinguishing version number.  If the Program
specifies a version number of this License which applies to it and ``any
later version'', you have the option of following the terms and conditions
either of that version or of any later version published by the Free
Software Foundation.  If the Program does not specify a version number of
this License, you may choose any version ever published by the Free Software
Foundation.

@item
If you wish to incorporate parts of the Program into other free
programs whose distribution conditions are different, write to the author
to ask for permission.  For software which is copyrighted by the Free
Software Foundation, write to the Free Software Foundation; we sometimes
make exceptions for this.  Our decision will be guided by the two goals
of preserving the free status of all derivatives of our free software and
of promoting the sharing and reuse of software generally.

@iftex
@heading NO WARRANTY
@end iftex
@ifinfo
@center NO WARRANTY
@end ifinfo

@item
BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW@.  EXCEPT WHEN
OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
PROVIDE THE PROGRAM ``AS IS'' WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED
OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE@.  THE ENTIRE RISK AS
TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU@.  SHOULD THE
PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,
REPAIR OR CORRECTION.

@item
IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING
OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED
TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY
YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER
PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.
@end enumerate

@iftex
@heading END OF TERMS AND CONDITIONS
@end iftex
@ifinfo
@center END OF TERMS AND CONDITIONS
@end ifinfo

@page
@unnumberedsec How to Apply These Terms to Your New Programs

  If you develop a new program, and you want it to be of the greatest
possible use to the public, the best way to achieve this is to make it
free software which everyone can redistribute and change under these terms.

  To do so, attach the following notices to the program.  It is safest
to attach them to the start of each source file to most effectively
convey the exclusion of warranty; and each file should have at least
the ``copyright'' line and a pointer to where the full notice is found.

@smallexample
@var{one line to give the program's name and an idea of what it does.}
Copyright (C) 19@var{yy}  @var{name of author}

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE@.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License along
with this program; if not, write to the Free Software Foundation, Inc.,
59 Temple Place, Suite 330, Boston, MA 02111-1307, USA.
@end smallexample

Also add information on how to contact you by electronic and paper mail.

If the program is interactive, make it output a short notice like this
when it starts in an interactive mode:

@smallexample
Gnomovision version 69, Copyright (C) 19@var{yy} @var{name of author}
Gnomovision comes with ABSOLUTELY NO WARRANTY; for details
type `show w'.  This is free software, and you are welcome
to redistribute it under certain conditions; type `show c' 
for details.
@end smallexample

The hypothetical commands @samp{show w} and @samp{show c} should show
the appropriate parts of the General Public License.  Of course, the
commands you use may be called something other than @samp{show w} and
@samp{show c}; they could even be mouse-clicks or menu items---whatever
suits your program.

You should also get your employer (if you work as a programmer) or your
school, if any, to sign a ``copyright disclaimer'' for the program, if
necessary.  Here is a sample; alter the names:

@smallexample
@group
Yoyodyne, Inc., hereby disclaims all copyright
interest in the program `Gnomovision'
(which makes passes at compilers) written 
by James Hacker.

@var{signature of Ty Coon}, 1 April 1989
Ty Coon, President of Vice
@end group
@end smallexample

This General Public License does not permit incorporating your program into
proprietary programs.  If your program is a subroutine library, you may
consider it more useful to permit linking proprietary applications with the
library.  If this is what you want to do, use the GNU Library General
Public License instead of this License.

@c ***********************************************************************
@c **** GNU Library General Public License *******************************
@c ***********************************************************************

@node  LGPL, Concept Index, GPL, Top
@comment  node-name,  next,  previous,  up
@unnumbered GNU LIBRARY GENERAL PUBLIC LICENSE

@center Version 2, June 1991

@display
Copyright @copyright{} 1991 Free Software Foundation, Inc.
675 Mass Ave, Cambridge, MA 02139, USA
Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.

[This is the first released version of the library GPL.  It is
 numbered 2 because it goes with version 2 of the ordinary GPL.]
@end display

@unnumberedsec Preamble

  The licenses for most software are designed to take away your
freedom to share and change it.  By contrast, the GNU General Public
Licenses are intended to guarantee your freedom to share and change
free software---to make sure the software is free for all its users.

  This license, the Library General Public License, applies to some
specially designated Free Software Foundation software, and to any
other libraries whose authors decide to use it.  You can use it for
your libraries, too.

  When we speak of free software, we are referring to freedom, not
price.  Our General Public Licenses are designed to make sure that you
have the freedom to distribute copies of free software (and charge for
this service if you wish), that you receive source code or can get it
if you want it, that you can change the software or use pieces of it
in new free programs; and that you know you can do these things.

  To protect your rights, we need to make restrictions that forbid
anyone to deny you these rights or to ask you to surrender the rights.
These restrictions translate to certain responsibilities for you if
you distribute copies of the library, or if you modify it.

  For example, if you distribute copies of the library, whether gratis
or for a fee, you must give the recipients all the rights that we gave
you.  You must make sure that they, too, receive or can get the source
code.  If you link a program with the library, you must provide
complete object files to the recipients so that they can relink them
with the library, after making changes to the library and recompiling
it.  And you must show them these terms so they know their rights.

  Our method of protecting your rights has two steps: (1) copyright
the library, and (2) offer you this license which gives you legal
permission to copy, distribute and/or modify the library.

  Also, for each distributor's protection, we want to make certain
that everyone understands that there is no warranty for this free
library.  If the library is modified by someone else and passed on, we
want its recipients to know that what they have is not the original
version, so that any problems introduced by others will not reflect on
the original authors' reputations.

  Finally, any free program is threatened constantly by software
patents.  We wish to avoid the danger that companies distributing free
software will individually obtain patent licenses, thus in effect
transforming the program into proprietary software.  To prevent this,
we have made it clear that any patent must be licensed for everyone's
free use or not licensed at all.

  Most GNU software, including some libraries, is covered by the ordinary
GNU General Public License, which was designed for utility programs.  This
license, the GNU Library General Public License, applies to certain
designated libraries.  This license is quite different from the ordinary
one; be sure to read it in full, and don't assume that anything in it is
the same as in the ordinary license.

  The reason we have a separate public license for some libraries is that
they blur the distinction we usually make between modifying or adding to a
program and simply using it.  Linking a program with a library, without
changing the library, is in some sense simply using the library, and is
analogous to running a utility program or application program.  However, in
a textual and legal sense, the linked executable is a combined work, a
derivative of the original library, and the ordinary General Public License
treats it as such.

  Because of this blurred distinction, using the ordinary General
Public License for libraries did not effectively promote software
sharing, because most developers did not use the libraries.  We
concluded that weaker conditions might promote sharing better.

  However, unrestricted linking of non-free programs would deprive the
users of those programs of all benefit from the free status of the
libraries themselves.  This Library General Public License is intended to
permit developers of non-free programs to use free libraries, while
preserving your freedom as a user of such programs to change the free
libraries that are incorporated in them.  (We have not seen how to achieve
this as regards changes in header files, but we have achieved it as regards
changes in the actual functions of the Library.)  The hope is that this
will lead to faster development of free libraries.

  The precise terms and conditions for copying, distribution and
modification follow.  Pay close attention to the difference between a
``work based on the library'' and a ``work that uses the library''.  The
former contains code derived from the library, while the latter only
works together with the library.

  Note that it is possible for a library to be covered by the ordinary
General Public License rather than by this special one.

@iftex
@unnumberedsec TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
@end iftex
@ifinfo
@center TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
@end ifinfo

@enumerate 0
@item
This License Agreement applies to any software library which
contains a notice placed by the copyright holder or other authorized
party saying it may be distributed under the terms of this Library
General Public License (also called ``this License'').  Each licensee is
addressed as ``you''.

  A ``library'' means a collection of software functions and/or data
prepared so as to be conveniently linked with application programs
(which use some of those functions and data) to form executables.

  The ``Library'', below, refers to any such software library or work
which has been distributed under these terms.  A ``work based on the
Library'' means either the Library or any derivative work under
copyright law: that is to say, a work containing the Library or a
portion of it, either verbatim or with modifications and/or translated
straightforwardly into another language.  (Hereinafter, translation is
included without limitation in the term ``modification''.)

  ``Source code'' for a work means the preferred form of the work for
making modifications to it.  For a library, complete source code means
all the source code for all modules it contains, plus any associated
interface definition files, plus the scripts used to control compilation
and installation of the library.

  Activities other than copying, distribution and modification are not
covered by this License; they are outside its scope.  The act of
running a program using the Library is not restricted, and output from
such a program is covered only if its contents constitute a work based
on the Library (independent of the use of the Library in a tool for
writing it).  Whether that is true depends on what the Library does
and what the program that uses the Library does.
  
@item
You may copy and distribute verbatim copies of the Library's
complete source code as you receive it, in any medium, provided that
you conspicuously and appropriately publish on each copy an
appropriate copyright notice and disclaimer of warranty; keep intact
all the notices that refer to this License and to the absence of any
warranty; and distribute a copy of this License along with the
Library.

  You may charge a fee for the physical act of transferring a copy,
and you may at your option offer warranty protection in exchange for a
fee.

@item
You may modify your copy or copies of the Library or any portion
of it, thus forming a work based on the Library, and copy and
distribute such modifications or work under the terms of Section 1
above, provided that you also meet all of these conditions:

@enumerate a
@item
The modified work must itself be a software library.

@item
You must cause the files modified to carry prominent notices
stating that you changed the files and the date of any change.

@item
You must cause the whole of the work to be licensed at no
charge to all third parties under the terms of this License.

@item
If a facility in the modified Library refers to a function or a
table of data to be supplied by an application program that uses
the facility, other than as an argument passed when the facility
is invoked, then you must make a good faith effort to ensure that,
in the event an application does not supply such function or
table, the facility still operates, and performs whatever part of
its purpose remains meaningful.

(For example, a function in a library to compute square roots has
a purpose that is entirely well-defined independent of the
application.  Therefore, Subsection 2d requires that any
application-supplied function or table used by this function must
be optional: if the application does not supply it, the square
root function must still compute square roots.)
@end enumerate

These requirements apply to the modified work as a whole.  If
identifiable sections of that work are not derived from the Library,
and can be reasonably considered independent and separate works in
themselves, then this License, and its terms, do not apply to those
sections when you distribute them as separate works.  But when you
distribute the same sections as part of a whole which is a work based
on the Library, the distribution of the whole must be on the terms of
this License, whose permissions for other licensees extend to the
entire whole, and thus to each and every part regardless of who wrote
it.

Thus, it is not the intent of this section to claim rights or contest
your rights to work written entirely by you; rather, the intent is to
exercise the right to control the distribution of derivative or
collective works based on the Library.

In addition, mere aggregation of another work not based on the Library
with the Library (or with a work based on the Library) on a volume of
a storage or distribution medium does not bring the other work under
the scope of this License.

@item
You may opt to apply the terms of the ordinary GNU General Public
License instead of this License to a given copy of the Library.  To do
this, you must alter all the notices that refer to this License, so
that they refer to the ordinary GNU General Public License, version 2,
instead of to this License.  (If a newer version than version 2 of the
ordinary GNU General Public License has appeared, then you can specify
that version instead if you wish.)  Do not make any other change in
these notices.

  Once this change is made in a given copy, it is irreversible for
that copy, so the ordinary GNU General Public License applies to all
subsequent copies and derivative works made from that copy.

  This option is useful when you wish to copy part of the code of
the Library into a program that is not a library.

@item
You may copy and distribute the Library (or a portion or
derivative of it, under Section 2) in object code or executable form
under the terms of Sections 1 and 2 above provided that you accompany
it with the complete corresponding machine-readable source code, which
must be distributed under the terms of Sections 1 and 2 above on a
medium customarily used for software interchange.

  If distribution of object code is made by offering access to copy
from a designated place, then offering equivalent access to copy the
source code from the same place satisfies the requirement to
distribute the source code, even though third parties are not
compelled to copy the source along with the object code.

@item
A program that contains no derivative of any portion of the
Library, but is designed to work with the Library by being compiled or
linked with it, is called a ``work that uses the Library''.  Such a
work, in isolation, is not a derivative work of the Library, and
therefore falls outside the scope of this License.

  However, linking a ``work that uses the Library'' with the Library
creates an executable that is a derivative of the Library (because it
contains portions of the Library), rather than a ``work that uses the
library''.  The executable is therefore covered by this License.
Section 6 states terms for distribution of such executables.

  When a ``work that uses the Library'' uses material from a header file
that is part of the Library, the object code for the work may be a
derivative work of the Library even though the source code is not.
Whether this is true is especially significant if the work can be
linked without the Library, or if the work is itself a library.  The
threshold for this to be true is not precisely defined by law.

  If such an object file uses only numerical parameters, data
structure layouts and accessors, and small macros and small inline
functions (ten lines or less in length), then the use of the object
file is unrestricted, regardless of whether it is legally a derivative
work.  (Executables containing this object code plus portions of the
Library will still fall under Section 6.)

  Otherwise, if the work is a derivative of the Library, you may
distribute the object code for the work under the terms of Section 6.
Any executables containing that work also fall under Section 6,
whether or not they are linked directly with the Library itself.

@item
As an exception to the Sections above, you may also compile or
link a ``work that uses the Library'' with the Library to produce a
work containing portions of the Library, and distribute that work
under terms of your choice, provided that the terms permit
modification of the work for the customer's own use and reverse
engineering for debugging such modifications.

  You must give prominent notice with each copy of the work that the
Library is used in it and that the Library and its use are covered by
this License.  You must supply a copy of this License.  If the work
during execution displays copyright notices, you must include the
copyright notice for the Library among them, as well as a reference
directing the user to the copy of this License.  Also, you must do one
of these things:

@enumerate a
@item
Accompany the work with the complete corresponding
machine-readable source code for the Library including whatever
changes were used in the work (which must be distributed under
Sections 1 and 2 above); and, if the work is an executable linked
with the Library, with the complete machine-readable ``work that
uses the Library'', as object code and/or source code, so that the
user can modify the Library and then relink to produce a modified
executable containing the modified Library.  (It is understood
that the user who changes the contents of definitions files in the
Library will not necessarily be able to recompile the application
to use the modified definitions.)

@item
Accompany the work with a written offer, valid for at
least three years, to give the same user the materials
specified in Subsection 6a, above, for a charge no more
than the cost of performing this distribution.

@item
If distribution of the work is made by offering access to copy
from a designated place, offer equivalent access to copy the above
specified materials from the same place.

@item
Verify that the user has already received a copy of these
materials or that you have already sent this user a copy.
@end enumerate

  For an executable, the required form of the ``work that uses the
Library'' must include any data and utility programs needed for
reproducing the executable from it.  However, as a special exception,
the source code distributed need not include anything that is normally
distributed (in either source or binary form) with the major
components (compiler, kernel, and so on) of the operating system on
which the executable runs, unless that component itself accompanies
the executable.

  It may happen that this requirement contradicts the license
restrictions of other proprietary libraries that do not normally
accompany the operating system.  Such a contradiction means you cannot
use both them and the Library together in an executable that you
distribute.

@item
You may place library facilities that are a work based on the
Library side-by-side in a single library together with other library
facilities not covered by this License, and distribute such a combined
library, provided that the separate distribution of the work based on
the Library and of the other library facilities is otherwise
permitted, and provided that you do these two things:

@enumerate a
@item
Accompany the combined library with a copy of the same work
based on the Library, uncombined with any other library
facilities.  This must be distributed under the terms of the
Sections above.

@item
Give prominent notice with the combined library of the fact
that part of it is a work based on the Library, and explaining
where to find the accompanying uncombined form of the same work.
@end enumerate

@item
You may not copy, modify, sublicense, link with, or distribute
the Library except as expressly provided under this License.  Any
attempt otherwise to copy, modify, sublicense, link with, or
distribute the Library is void, and will automatically terminate your
rights under this License.  However, parties who have received copies,
or rights, from you under this License will not have their licenses
terminated so long as such parties remain in full compliance.

@item
You are not required to accept this License, since you have not
signed it.  However, nothing else grants you permission to modify or
distribute the Library or its derivative works.  These actions are
prohibited by law if you do not accept this License.  Therefore, by
modifying or distributing the Library (or any work based on the
Library), you indicate your acceptance of this License to do so, and
all its terms and conditions for copying, distributing or modifying
the Library or works based on it.

@item
Each time you redistribute the Library (or any work based on the
Library), the recipient automatically receives a license from the
original licensor to copy, distribute, link with or modify the Library
subject to these terms and conditions.  You may not impose any further
restrictions on the recipients' exercise of the rights granted herein.
You are not responsible for enforcing compliance by third parties to
this License.

@item
If, as a consequence of a court judgment or allegation of patent
infringement or for any other reason (not limited to patent issues),
conditions are imposed on you (whether by court order, agreement or
otherwise) that contradict the conditions of this License, they do not
excuse you from the conditions of this License.  If you cannot
distribute so as to satisfy simultaneously your obligations under this
License and any other pertinent obligations, then as a consequence you
may not distribute the Library at all.  For example, if a patent
license would not permit royalty-free redistribution of the Library by
all those who receive copies directly or indirectly through you, then
the only way you could satisfy both it and this License would be to
refrain entirely from distribution of the Library.

If any portion of this section is held invalid or unenforceable under any
particular circumstance, the balance of the section is intended to apply,
and the section as a whole is intended to apply in other circumstances.

It is not the purpose of this section to induce you to infringe any
patents or other property right claims or to contest validity of any
such claims; this section has the sole purpose of protecting the
integrity of the free software distribution system which is
implemented by public license practices.  Many people have made
generous contributions to the wide range of software distributed
through that system in reliance on consistent application of that
system; it is up to the author/donor to decide if he or she is willing
to distribute software through any other system and a licensee cannot
impose that choice.

This section is intended to make thoroughly clear what is believed to
be a consequence of the rest of this License.

@item
If the distribution and/or use of the Library is restricted in
certain countries either by patents or by copyrighted interfaces, the
original copyright holder who places the Library under this License may add
an explicit geographical distribution limitation excluding those countries,
so that distribution is permitted only in or among countries not thus
excluded.  In such case, this License incorporates the limitation as if
written in the body of this License.

@item
The Free Software Foundation may publish revised and/or new
versions of the Library General Public License from time to time.
Such new versions will be similar in spirit to the present version,
but may differ in detail to address new problems or concerns.

Each version is given a distinguishing version number.  If the Library
specifies a version number of this License which applies to it and
``any later version'', you have the option of following the terms and
conditions either of that version or of any later version published by
the Free Software Foundation.  If the Library does not specify a
license version number, you may choose any version ever published by
the Free Software Foundation.

@item
If you wish to incorporate parts of the Library into other free
programs whose distribution conditions are incompatible with these,
write to the author to ask for permission.  For software which is
copyrighted by the Free Software Foundation, write to the Free
Software Foundation; we sometimes make exceptions for this.  Our
decision will be guided by the two goals of preserving the free status
of all derivatives of our free software and of promoting the sharing
and reuse of software generally.

@iftex
@heading NO WARRANTY
@end iftex
@ifinfo
@center NO WARRANTY
@end ifinfo

@item
BECAUSE THE LIBRARY IS LICENSED FREE OF CHARGE, THERE IS NO
WARRANTY FOR THE LIBRARY, TO THE EXTENT PERMITTED BY APPLICABLE LAW.
EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
OTHER PARTIES PROVIDE THE LIBRARY ``AS IS'' WITHOUT WARRANTY OF ANY
KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
PURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE
LIBRARY IS WITH YOU.  SHOULD THE LIBRARY PROVE DEFECTIVE, YOU ASSUME
THE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION.

@item
IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN
WRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY
AND/OR REDISTRIBUTE THE LIBRARY AS PERMITTED ABOVE, BE LIABLE TO YOU
FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR
CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE
LIBRARY (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING
RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A
FAILURE OF THE LIBRARY TO OPERATE WITH ANY OTHER SOFTWARE), EVEN IF
SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH
DAMAGES.
@end enumerate

@iftex
@heading END OF TERMS AND CONDITIONS
@end iftex
@ifinfo
@center END OF TERMS AND CONDITIONS
@end ifinfo

@page
@unnumberedsec How to Apply These Terms to Your New Libraries

  If you develop a new library, and you want it to be of the greatest
possible use to the public, we recommend making it free software that
everyone can redistribute and change.  You can do so by permitting
redistribution under these terms (or, alternatively, under the terms of the
ordinary General Public License).

  To apply these terms, attach the following notices to the library.  It is
safest to attach them to the start of each source file to most effectively
convey the exclusion of warranty; and each file should have at least the
``copyright'' line and a pointer to where the full notice is found.

@smallexample
@var{one line to give the library's name and an idea of what it does.}
Copyright (C) @var{year}  @var{name of author}

This library is free software; you can redistribute it and/or modify it
under the terms of the GNU Library General Public License as published
by the Free Software Foundation; either version 2 of the License, or (at
your option) any later version.

This library is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
Library General Public License for more details.

You should have received a copy of the GNU Library General Public
License along with this library; if not, write to the Free Software
Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
@end smallexample

Also add information on how to contact you by electronic and paper mail.

You should also get your employer (if you work as a programmer) or your
school, if any, to sign a ``copyright disclaimer'' for the library, if
necessary.  Here is a sample; alter the names:

@smallexample
Yoyodyne, Inc., hereby disclaims all copyright interest in the library
`Frob' (a library for tweaking knobs) written by James Random Hacker.

@var{signature of Ty Coon}, 1 April 1990
Ty Coon, President of Vice
@end smallexample

That's all there is to it!


@c Part 6: The End of the Document
@c ¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯¯

@c ***********************************************************************
@c **** Concept Index ****************************************************
@c ***********************************************************************

@node  Concept Index,  , LGPL, Top
@unnumbered Concept Index

@cindex Recursion

@printindex cp


@c ***********************************************************************
@c **** Contents *********************************************************
@c ***********************************************************************

@contents
@bye
