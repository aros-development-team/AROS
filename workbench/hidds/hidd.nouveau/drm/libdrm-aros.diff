diff -ur -x .svn drm-2.4.21/nouveau/nouveau_bo.c libdrm/nouveau/nouveau_bo.c
--- drm-2.4.21/nouveau/nouveau_bo.c	2010-06-10 09:03:50.000000000 +0200
+++ libdrm/nouveau/nouveau_bo.c	2010-06-29 20:36:45.000000000 +0200
@@ -28,7 +28,9 @@
 #include <errno.h>
 #include <assert.h>
 
+#if !defined(__AROS__)
 #include <sys/mman.h>
+#endif
 
 #include "nouveau_private.h"
 
@@ -99,7 +101,11 @@
 		return;
 
 	if (nvbo->map) {
+#if !defined(__AROS__)        
 		munmap(nvbo->map, nvbo->size);
+#else
+        drmMUnmap(nvdev->fd, nvbo->handle);
+#endif
 		nvbo->map = NULL;
 	}
 
@@ -161,13 +167,18 @@
 	if (!nvbo->map_handle)
 		return -EINVAL;
 
+#if !defined(__AROS__)
 	nvbo->map = mmap(0, nvbo->size, PROT_READ | PROT_WRITE,
 			 MAP_SHARED, nvdev->fd, nvbo->map_handle);
 	if (nvbo->map == MAP_FAILED) {
 		nvbo->map = NULL;
 		return -errno;
 	}
-
+#else
+    nvbo->map = drmMMap(nvdev->fd, nvbo->handle);
+    if (nvbo->map == NULL)
+        return -EINVAL;
+#endif
 	return 0;
 }
 
diff -ur -x .svn drm-2.4.21/nouveau/nouveau_drmif.h libdrm/nouveau/nouveau_drmif.h
--- drm-2.4.21/nouveau/nouveau_drmif.h	2010-06-10 09:03:50.000000000 +0200
+++ libdrm/nouveau/nouveau_drmif.h	2010-06-29 20:36:45.000000000 +0200
@@ -24,7 +24,7 @@
 #define __NOUVEAU_DRMIF_H__
 
 #include <stdint.h>
-#include <xf86drm.h>
+#include <arosdrm.h>
 
 #include "nouveau_device.h"
 
diff -ur -x .svn drm-2.4.21/nouveau/nouveau_private.h libdrm/nouveau/nouveau_private.h
--- drm-2.4.21/nouveau/nouveau_private.h	2010-06-10 09:03:50.000000000 +0200
+++ libdrm/nouveau/nouveau_private.h	2010-06-29 20:36:45.000000000 +0200
@@ -24,7 +24,7 @@
 #define __NOUVEAU_PRIVATE_H__
 
 #include <stdint.h>
-#include <xf86drm.h>
+#include <arosdrm.h>
 #include <nouveau_drm.h>
 
 #include "nouveau_drmif.h"
